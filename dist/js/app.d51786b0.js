(function(t){function e(e){for(var a,r,o=e[0],l=e[1],c=e[2],u=0,v=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&v.push(i[r][0]),i[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(v.length)v.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,r=1;r<s.length;r++){var l=s[r];0!==i[l]&&(a=!1)}a&&(n.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},i={app:0},n=[];function r(t){return o.p+"js/"+({}[t]||t)+"."+{"chunk-2d22d746":"2aadb56b"}[t]+".js"}function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.e=function(t){var e=[],s=i[t];if(0!==s)if(s)e.push(s[2]);else{var a=new Promise((function(e,a){s=i[t]=[e,a]}));e.push(s[2]=a);var n,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=r(t);var c=new Error;n=function(e){l.onerror=l.onload=null,clearTimeout(u);var s=i[t];if(0!==s){if(s){var a=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+a+": "+n+")",c.name="ChunkLoadError",c.type=a,c.request=n,s[1](c)}i[t]=void 0}};var u=setTimeout((function(){n({type:"timeout",target:l})}),12e4);l.onerror=l.onload=n,document.head.appendChild(l)}return Promise.all(e)},o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var d=c;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"09d0":function(t,e,s){},"1cb6":function(t,e,s){"use strict";s("abb4")},"25b7":function(t,e,s){t.exports=s.p+"img/blueflowers.0e00fb12.jpeg"},"30fc":function(t,e,s){t.exports=s.p+"img/registerImag.403f4b9d.jpeg"},"44d9":function(t,e,s){"use strict";s("09d0")},"49e5":function(t,e,s){},"4cee":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-main",[s("router-view",{key:t.$route.path})],1)],1)},n=[],r={name:"App",data:function(){return{}}},o=r,l=s("2877"),c=s("6544"),u=s.n(c),d=s("7496"),v=s("f6c4"),p=Object(l["a"])(o,i,n,!1,null,null,null),h=p.exports;u()(p,{VApp:d["a"],VMain:v["a"]});s("d3b7"),s("3ca3"),s("ddb0");var f=s("8c4f"),m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Navbar"),s("v-row",[s("v-col",{attrs:{xs:"12",sm:"8",md:"7"}},[s("PostSection")],1),s("v-col",{attrs:{xs:"12",sm:"4",md:"5"}},[s("RightSidebar")],1)],1)],1)},g=[],b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pa-2"},[s("v-layout",[s("v-card",{attrs:{height:"300",width:"100%"}},[s("v-img",{attrs:{height:"300","lazy-src":"https://images.pexels.com/photos/10196058/pexels-photo-10196058.jpeg?cs=srgb&dl=pexels-imad-clicks-10196058.jpg&fm=jpg",src:"https://images.pexels.com/photos/10196058/pexels-photo-10196058.jpeg?cs=srgb&dl=pexels-imad-clicks-10196058.jpg&fm=jpg",alt:"John"}})],1)],1),s("v-layout",{staticClass:"mt-4 subtitle-2 grey--text"},[t._v(" Uzir is a freelance developer based in Cedar Rapids IA, Always interested in learning about new Technologies and projects! "),s("br"),s("br"),t._v("Moved to the US 7 years ago for college and now working as a full time software developer and helping people reach their goals through entrepreneurship! ")]),s("v-layout",{staticClass:"mt-5"},[s("v-flex",[s("div",{staticClass:"subtitle-2"},[t._v("Locations")]),s("div",{staticClass:"subtitle-2 grey--text"},[t._v("Based in Cedar Rapids, IA.")])])],1),s("v-layout",{staticClass:"mt-5"},[s("v-flex",[s("div",{staticClass:"subtitle-2"},[t._v("Profession")]),s("div",{staticClass:"subtitle-2 grey--text"},[t._v("Developer")])])],1),s("div",[s("div",{staticClass:"title mt-8"},[t._v("Online Friends")]),s("div",{staticClass:"py-5"},[s("span",{staticClass:"mr-4"},[s("v-badge",{attrs:{bordered:"",right:"",color:"green","offset-x":"15","offset-y":"15"}},[s("v-avatar",{attrs:{size:"50"}},[s("v-img",{attrs:{src:"https://cdn.vuetifyjs.com/images/lists/3.jpg"}})],1)],1)],1),s("span",{staticClass:"subtitle-1"},[t._v("Pamela Kim ")])]),s("div",[s("span",{staticClass:"mr-4"},[s("v-badge",{attrs:{bordered:"",right:"",color:"green","offset-x":"15","offset-y":"15"}},[s("v-avatar",{attrs:{size:"50"}},[s("v-img",{attrs:{src:"https://cdn.vuetifyjs.com/images/lists/5.jpg"}})],1)],1)],1),s("span",{staticClass:"subtitle-1"},[t._v("Rema Newton")])]),s("div",{staticClass:"py-5"},[s("span",{staticClass:"mr-4"},[s("v-badge",{attrs:{bordered:"",right:"",color:"green","offset-x":"15","offset-y":"15"}},[s("v-avatar",{attrs:{size:"50"}},[s("v-img",{attrs:{src:"https://cdn.vuetifyjs.com/images/lists/2.jpg"}})],1)],1)],1),s("span",{staticClass:"subtitle-1"},[t._v("Victony ")])])])],1)},k=[],C={data:function(){return{friendsList:[]}}},_=C,x=s("8212"),w=s("4ca6"),I=s("b0af"),P=s("0e8f"),y=s("adda"),U=s("a722"),S=Object(l["a"])(_,b,k,!1,null,null,null),T=S.exports;u()(S,{VAvatar:x["a"],VBadge:w["a"],VCard:I["a"],VFlex:P["a"],VImg:y["a"],VLayout:U["a"]});var V=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"pl-10"},[s("v-row",{staticClass:"d-flex justify-center"},[s("v-col",{attrs:{cols:"12"}},[s("v-card",[s("v-card-text",{staticClass:"pb-0"},[s("v-row",[s("v-col",{staticClass:"pb-0"},[s("v-avatar",{attrs:{size:"40"}},[s("img",{attrs:{src:t.singleUser.profilePicture?t.singleUser.profilePicture:t.profilePic,alt:"John"}})]),s("v-textarea",{attrs:{"append-icon":"",name:"input-7-1",label:"What's on your mind ?",rows:"2"},model:{value:t.descriptionPost,callback:function(e){t.descriptionPost=e},expression:"descriptionPost"}})],1)],1)],1),s("v-card-actions",[s("v-file-input",{ref:"mediaAssetRef",attrs:{multiple:"",accept:"image/*","show-size":"",label:"Media Uploads"},on:{change:t.onAddFiles},model:{value:t.filename,callback:function(e){t.filename=e},expression:"filename"}}),s("v-spacer"),s("v-btn",{staticClass:"pa-3 white--text",attrs:{color:"deep-purple lighten-2"},on:{click:t.previewPost}},[t._v(" Share ")])],1)],1)],1)],1),s("v-dialog",{attrs:{"max-width":"480"},model:{value:t.previewDialog,callback:function(e){t.previewDialog=e},expression:"previewDialog"}},[s("v-card",[s("v-app-bar",{attrs:{flat:"",color:"white"}},[s("v-avatar",{attrs:{size:"40"}},[s("img",{attrs:{src:t.singleUser.profilePicture?t.singleUser.profilePicture:t.profilePic,alt:"John"}})]),s("v-toolbar-title",{staticClass:"subtitle-1 pl-2"},[t._v(" John Doe ")]),s("v-spacer"),s("v-btn",{attrs:{color:"black",icon:""},on:{click:function(e){return t.closePreviewPost(t.singlePost._id)}}},[s("v-icon",[t._v("mdi-close")])],1)],1),s("v-card-text",{staticClass:"py-0"},[t._v(t._s(t.singlePost.desc))]),s("v-card-text",{staticClass:"pb-2"},[s("v-img",{attrs:{"max-height":"390",src:t.singlePost.img}})],1),s("v-card-actions",[s("div",{staticClass:"text-center"},[s("v-btn",{staticClass:"mx-3",attrs:{fab:"",dark:"","x-small":"",color:"primary",elevation:"0"}},[s("v-icon",{attrs:{dark:""}},[t._v("mdi-thumb-up ")])],1),s("v-btn",{staticClass:"mr-3",attrs:{fab:"",dark:"","x-small":"",color:"red",elevation:"0"}},[s("v-icon",{attrs:{dark:""}},[t._v(" mdi-heart ")])],1),s("span",{},[t._v("0 people like it")]),s("span",{staticClass:"mx-16"}),s("span",[s("v-btn",{staticClass:"pa-3 white--text",attrs:{outlined:"",color:"deep-purple"},on:{click:function(e){return t.continueToPost(t.singlePost)}}},[t._v(" continue ")])],1)],1)])],1)],1),s("v-row",{staticClass:"d-flex justify-center"},t._l(this.allPosts,(function(e){return s("v-col",{key:e._id,staticClass:"pb-6",attrs:{cols:"12"}},[t._l(t.friendsList,(function(a){return s("v-col",{key:a._id,staticClass:"pa-0"},[e.userId===a._id?s("v-col",{staticClass:"pa-0"},[s("v-card",[s("v-app-bar",{attrs:{flat:"",color:"white"}},[s("v-avatar",{attrs:{size:"40"}},[s("img",{attrs:{src:a.profilePicture?a.profilePicture:t.profilePic,alt:"John"}})]),s("v-toolbar-title",{staticClass:"subtitle-1 pl-2"},[t._v(" "+t._s(a.username)+" ")]),s("v-spacer"),s("v-menu",{attrs:{left:"",bottom:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[s("v-btn",t._g(t._b({attrs:{icon:"",color:"black"}},"v-btn",i,!1),a),[s("v-icon",[t._v("mdi-dots-vertical")])],1)]}}],null,!0)},[s("v-list",t._l(t.menuList,(function(a){return s("v-list-item",{key:a.title,on:{click:function(s){return t.popUpDrawer(a,e._id)}}},[s("v-list-item-title",[t._v(" "+t._s(a.title))])],1)})),1)],1)],1),s("v-card-text",{staticClass:"py-0"},[t._v(t._s(e.desc))]),s("v-card-text",{staticClass:"pb-0"},[s("v-img",{attrs:{"max-height":"400",src:e.img}})],1),s("v-card-actions",[s("div",{staticClass:"text-center"},[s("v-btn",{staticClass:"mx-3",attrs:{fab:"",dark:"","x-small":"",color:"primary",elevation:"0"},on:{click:function(s){return t.likePost(e)}}},[s("v-icon",{attrs:{dark:""}},[t._v("mdi-thumb-up ")])],1),s("v-btn",{staticClass:"mr-3",attrs:{fab:"",dark:"","x-small":"",color:"red",elevation:"0"}},[s("v-icon",{attrs:{dark:""}},[t._v(" mdi-heart ")])],1),s("span",{},[t._v(t._s(e.likes.length)+" people like it")]),s("span",{staticClass:"ml-16"}),s("span",{staticClass:"ml-16"}),s("span",{staticClass:"ml-16 hidden-sm-and-down"},[t._v("Comments")])],1)])],1)],1):t._e()],1)})),e.userId===t.$store.state.userId?s("v-col",{staticClass:"pa-0"},[s("v-card",[s("v-app-bar",{attrs:{flat:"",color:"white"}},[s("v-avatar",{attrs:{size:"40"}},[s("img",{attrs:{src:t.singleUser.profilePicture?t.singleUser.profilePicture:t.profilePic,alt:"John"}})]),s("v-toolbar-title",{staticClass:"subtitle-1 pl-2"},[t._v(" "+t._s(t.singleUser.username)+" ")]),s("v-spacer"),s("v-menu",{attrs:{left:"",bottom:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[s("v-btn",t._g(t._b({attrs:{icon:"",color:"black"}},"v-btn",i,!1),a),[s("v-icon",[t._v("mdi-dots-vertical")])],1)]}}],null,!0)},[s("v-list",t._l(t.menuList,(function(a){return s("v-list-item",{key:a.title,on:{click:function(s){return t.popUpDrawer(a,e._id)}}},[s("v-list-item-title",[t._v(" "+t._s(a.title))])],1)})),1)],1)],1),s("v-card-text",{staticClass:"py-0"},[t._v(t._s(e.desc))]),s("v-card-text",{staticClass:"pb-0"},[s("v-img",{attrs:{"max-height":"400",src:e.img}})],1),s("v-card-actions",[s("div",{staticClass:"text-center"},[s("v-btn",{staticClass:"mx-3",attrs:{fab:"",dark:"","x-small":"",color:"primary",elevation:"0"},on:{click:function(s){return t.likePost(e)}}},[s("v-icon",{attrs:{dark:""}},[t._v("mdi-thumb-up ")])],1),s("v-btn",{staticClass:"mr-3",attrs:{fab:"",dark:"","x-small":"",color:"red",elevation:"0"}},[s("v-icon",{attrs:{dark:""}},[t._v(" mdi-heart ")])],1),s("span",{},[t._v(t._s(e.likes.length)+" people like it")]),s("span",{staticClass:"ml-16"}),s("span",{staticClass:"ml-16"}),s("span",{staticClass:"ml-16 hidden-sm-and-down"},[t._v("Comments")])],1)])],1)],1):t._e()],2)})),1),s("v-overlay",{attrs:{value:t.uploadOverlay}},[s("v-progress-circular",{attrs:{indeterminate:"",size:"100"}})],1),s("v-snackbar",{attrs:{timeout:"4000",top:"",center:"",shaped:"",color:t.snackbarColor?"green":"red darken-2"},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[s("v-btn",t._b({attrs:{text:"",outlined:"",fab:"","x-small":"",color:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",a,!1),[s("v-icon",[t._v("mdi-close ")])],1)]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackBarText)+" ")])],1)},j=[],O=s("5530"),L=s("2909"),B=(s("159b"),s("99af"),s("a434"),s("caad"),s("2532"),s("4de4"),s("bc3a")),E=s.n(B),F="cloudfisk",D="f6hwsyel",R={name:"PostSection",components:{},data:function(){return{mediaAsset:null,previewDialog:!1,descriptionPost:"",files:[],isError:!1,errorText:null,fileUrl:"",uploadOverlay:!1,userId:localStorage.getItem("userId"),allPosts:[],singlePost:{},menuList:[{title:"Delete"}],filename:null,profilePic:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Unknown_person.jpg/925px-Unknown_person.jpg",singleUser:{},friendsList:[],allPostDetails:[],snackBarText:"",snackbar:!1,snackbarColor:null}},methods:{previewPost:function(){var t=this;E.a.post("http://localhost:4000/api/posts/",{userId:this.userId,desc:this.descriptionPost,img:this.fileUrl}).then((function(e){if(e.status>=200&&e.status<400){var s=e.data._id;t.getSinglePost(s),t.uploadOverlay=!1,t.previewDialog=!0}})).catch((function(t){return console.log(t)}))},continueToPost:function(t){this.allPosts.unshift(t),this.previewDialog=!1,this.filename=null,this.descriptionPost=""},closePreviewPost:function(t){this.deleteSinglePost(t),this.filename=null,this.descriptionPost="",this.previewDialog=!1},onAddFiles:function(t){var e=this;this.files=t,this.uploadOverlay=!0,this.files.length>0&&this.files.forEach((function(t){e.uploadFileToCloudinary(t).then((function(t){e.fileUrl=t.url,e.uploadOverlay=!1}))}))},uploadFileToCloudinary:function(t){return new Promise((function(e,s){var a="https://api.cloudinary.com/v1_1/".concat(F,"/upload"),i=D,n=new FormData;n.append("upload_preset",i),n.append("folder","social-media"),n.append("file",t);var r=new XMLHttpRequest;r.open("POST",a,!0),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.onreadystatechange=function(){if(4===r.readyState&&200===r.status){var t=JSON.parse(r.responseText);e(t)}if(200!==r.status){var a=JSON.parse(r.responseText),i=a.error.message;alert("error, status code not 200 "+i),s(i)}},r.onerror=function(t){alert("error: "+t),s(t)},r.send(n)}))},getAllPosts:function(){var t=this;E.a.get("http://localhost:4000/api/posts/timeline/".concat(this.userId)).then((function(e){e.status>=200&&e.status<400&&(t.allPosts=Object(L["a"])(e.data),console.log(t.allPosts,"allPost at timeline"))})).catch((function(t){return console.log(t)}))},getSinglePost:function(t){var e=this;E.a.get("http://localhost:4000/api/posts/find/".concat(t)).then((function(t){t.status>=200&&t.status<400&&(e.singlePost=Object(O["a"])({},t.data),console.log(e.singlePost))})).catch((function(t){return console.log(t)}))},deleteSinglePost:function(t){var e=this,s=Object(L["a"])(this.allPosts);E.a.delete("http://localhost:4000/api/posts/".concat(t,"/").concat(this.userId)).then((function(a){a.status>=200&&a.status<400&&(s.forEach((function(e,s,a){t===e._id&&a.splice(s,1)})),e.allPosts=s,console.log("Post successfully deleted"))})).catch((function(t){var s=t.response.data;e.snackbar=!0,e.snackBarText="".concat(s)}))},popUpDrawer:function(t,e){"Delete"===t.title&&this.deleteSinglePost(e)},getSingleUser:function(){var t=this;E.a.get("http://localhost:4000/api/users/find?userId=".concat(this.userId,"&username=").concat(this.username)).then((function(e){e.status>=200&&e.status<400&&(t.singleUser=Object(O["a"])({},e.data),console.log(t.singleUser,"singleUSER in timeline"))})).catch((function(t){return console.log(t)}))},likePost:function(t){var e=this;E.a.put("http://localhost:4000/api/posts/".concat(t._id,"/like/").concat(this.userId)).then((function(s){s.status>=200&&s.status<400&&(e.allPosts.forEach((function(s){s._id===t._id&&(s.likes.includes(e.userId)?(s.likes.length--,s.likes=s.likes.filter((function(t){return t.userId!==e.userId}))):s.likes.push(e.userId))})),console.log(s.data))})).catch((function(t){var s=t.response.data;e.snackbar=!0,e.snackBarText="".concat(s)}))},getFriends:function(){var t=this;E.a.get("http://localhost:4000/api/users/friends/".concat(this.userId)).then((function(e){e.status>=200&&e.status<400&&(t.friendsList=Object(L["a"])(e.data),console.log(t.friendsList,"friendlist"))})).catch((function(t){return console.log(t)}))}},mounted:function(){this.getAllPosts(),this.getSingleUser(),this.getFriends(),console.log(this.userId,"id")}},A=R,M=s("40dc"),N=s("8336"),$=s("99d9"),z=s("62ad"),q=s("a523"),J=s("169a"),H=s("23a7"),X=s("132d"),W=s("8860"),G=s("da13"),K=s("5d23"),Q=s("e449"),Y=s("a797"),Z=s("490a"),tt=s("0fd9"),et=s("2db4"),st=s("2fa4"),at=s("a844"),it=s("2a7f"),nt=Object(l["a"])(A,V,j,!1,null,null,null),rt=nt.exports;u()(nt,{VAppBar:M["a"],VAvatar:x["a"],VBtn:N["a"],VCard:I["a"],VCardActions:$["a"],VCardText:$["b"],VCol:z["a"],VContainer:q["a"],VDialog:J["a"],VFileInput:H["a"],VIcon:X["a"],VImg:y["a"],VList:W["a"],VListItem:G["a"],VListItemTitle:K["b"],VMenu:Q["a"],VOverlay:Y["a"],VProgressCircular:Z["a"],VRow:tt["a"],VSnackbar:et["a"],VSpacer:st["a"],VTextarea:at["a"],VToolbarTitle:it["a"]});var ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mt-16"},[s("v-app-bar",{attrs:{color:"blue-grey darken-2",flat:"",dense:"",dark:"",height:"65",fixed:""}},[s("v-app-bar-nav-icon",{directives:[{name:"show",rawName:"v-show",value:t.$vuetify.breakpoint.smAndDown,expression:"$vuetify.breakpoint.smAndDown"}],on:{click:function(e){t.mini=!t.mini}}}),s("v-toolbar-title",{staticClass:"cursor-pointer",on:{click:t.goToHome}},[t._v("Legend")]),s("v-spacer"),s("v-row",{staticClass:"ml-1"},[s("v-col",{attrs:{cols:"12"}},[s("v-autocomplete",{ref:"users",attrs:{items:t.itemsItems,loading:t.isLoading,"search-input":t.search,color:"white","hide-no-data":"","hide-selected":"","item-text":"Username","item-value":"API",label:"Search by username",placeholder:"Start typing to Search","return-object":"","single-line":"","hide-details":"",rounded:"",outlined:"",dense:"","prepend-inner-icon":"mdi-magnify"},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e}},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1)],1),s("v-spacer"),s("v-btn",{staticClass:"mr-2 hidden-sm-and-down",attrs:{icon:""},on:{click:function(e){return t.goToMessenger()}}},[s("v-icon",[t._v("mdi-email-outline")])],1),s("v-btn",{staticClass:"mr-5 hidden-sm-and-down",attrs:{icon:""}},[s("v-icon",[t._v("mdi-heart-outline")])],1),s("v-menu",{attrs:{left:"",bottom:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[s("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",i,!1),a),[s("v-avatar",{attrs:{size:"40"}},[s("img",{attrs:{src:t.currentUserInStore.profilePicture?t.currentUserInStore.profilePicture:t.profileImage,alt:""}})]),s("v-icon",[t._v("mdi-menu-down")])],1)]}}])},[s("v-list",t._l(t.menuList,(function(e){return s("v-list-item",{key:e.title,on:{click:function(s){return t.popUpDrawer(e)}}},[s("v-list-item-title",[t._v(" "+t._s(e.title))])],1)})),1)],1)],1),s("v-navigation-drawer",{attrs:{clipped:"",app:"","mini-variant":t.mini,permanent:"",color:"blue-grey darken-2",dark:""},on:{"update:miniVariant":function(e){t.mini=e},"update:mini-variant":function(e){t.mini=e}},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[s("v-list-item"),s("v-divider"),s("v-list",{attrs:{dense:""}},[t._l(t.items,(function(e){return s("v-list-item",{key:e.title,staticClass:"my-6",on:{click:function(s){return t.navigationDrawer(e)}}},[s("v-list-item-icon",[s("v-icon",[t._v(t._s(e.icon))])],1),s("v-list-item-content",[s("v-list-item-title",{staticClass:"subtitle-1"},[t._v(t._s(e.title))])],1)],1)})),s("v-list-item",[s("v-btn",{attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.mini=!t.mini}}},[s("v-icon",[t._v("mdi-chevron-right")])],1)],1)],2)],1)],1)},lt=[],ct=(s("d81d"),s("b64b"),s("fb6a"),s("852e")),ut=s("2f62"),dt=s("0e44");a["a"].use(ut["a"]);var vt=new ut["a"].Store({plugins:[Object(dt["a"])({storage:window.sessionStorage})],state:{authToken:null,currentUser:{},userId:localStorage.getItem("userId")},getters:{},mutations:{SET_CURRENT_USER_IN_STATE:function(t,e){t.currentUser=e},SET_IS_LOGGED_IN:function(t,e){t.authToken=e.accessToken},SET_USER_ID:function(t,e){t.userId=e._id},CLEAR_CURRENT_USER:function(t){t.currentUser=null,t.authToken=null,t.userId=null}},actions:{setCurrentUserInState:function(t,e){var s=t.commit;s("SET_CURRENT_USER_IN_STATE",e)},setIsLoggedIn:function(t,e){var s=t.commit;s("SET_IS_LOGGED_IN",e)},setUserId:function(t,e){var s=t.commit;s("SET_USER_ID",e)},clearCurrentUser:function(t){var e=t.commit;e("CLEAR_CURRENT_USER")}},modules:{}}),pt="authToken",ht="userId";function ft(t){ct["set"](pt,t)}function mt(t){ct["set"](ht,t)}function gt(){return ct["get"](pt)}function bt(){var t=vt.state.authToken;return!!t}function kt(){vt.dispatch("clearCurrentUser"),sessionStorage.clear(),localStorage.clear(),Ct(),_t()}function Ct(){return ct["remove"](pt)}function _t(){return ct["remove"](ht)}var xt={name:"Navbar",components:{},data:function(){return{drawer:null,items:[{title:"Feed",icon:"mdi-home-outline",link:"/"},{title:"Message",icon:"mdi-email",link:"/messenger"},{title:"Profile",icon:"mdi-account",link:"profile/".concat(this.username,"/").concat(this.userId)},{title:"Logout",icon:"mdi-power",link:"/login"},{title:"Settings",icon:"mdi-cog-outline"},{title:"Notification",icon:"mdi-bell-outline"}],mini:this.drawerShow(),menuList:[{title:"Profile"},{title:"Log Out"}],username:localStorage.getItem("username"),userId:localStorage.getItem("userId"),singleUser:{},profileImage:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Unknown_person.jpg/925px-Unknown_person.jpg",users:[],usernameLimit:60,entries:[],isLoading:!1,model:null,search:null}},methods:{drawerShow:function(){this.$vuetify.breakpoint.md?this.mini=!0:this.$vuetify.breakpoint.sm?this.mini=!1:this.$vuetify.breakpoint.xs&&(this.mini=!0)},goToHome:function(){this.$router.push("/")},goToProfile:function(){this.$router.push("/profile/".concat(this.username,"/").concat(this.userId))},goToMessenger:function(){this.$router.push("/messenger"),location.reload()},popUpDrawer:function(t){"Log Out"===t.title?this.logOut():"Profile"===t.title&&(this.goToProfile(),location.reload())},navigationDrawer:function(t){"Feed"===t.title?this.goToHome():"Message"===t.title?(this.goToMessenger(),location.reload()):"Profile"===t.title?(this.goToProfile(),location.reload()):"Logout"===t.title?(this.logOut(),location.reload()):("Settings"===t.title||"Notification"===t.title)&&this.goToProfile()},logOut:function(){kt(),localStorage.clear(),this.$router.push("/login")},getSingleUser:function(){var t=this;E.a.get("http://localhost:4000/api/users/find?userId=".concat(this.userId,"&username=").concat(this.username)).then((function(e){e.status>=200&&e.status<400&&(t.singleUser=Object(O["a"])({},e.data))})).catch((function(t){return console.log(t)}))},goToSearchedUserProfile:function(){this.$router.push("/profile/".concat(this.fields[1].value,"/").concat(this.fields[0].value))}},computed:{currentUserInStore:function(){return this.$store.state.currentUser},fields:function(){var t=this;return this.model?Object.keys(this.model).map((function(e){return{key:e,value:t.model[e]||""}})):[]},itemsItems:function(){var t=this;return this.entries.map((function(e){var s=e.username.length>t.usernameLimit?e.username.slice(0,t.usernameLimit)+"...":e.username;return Object.assign({},e,{Username:s})}))}},watch:{search:function(){var t=this;this.itemsItems.length>0||this.isLoading||(this.isLoading=!0,E.a.get("http://localhost:4000/api/users/").then((function(e){t.entries=e.data})).catch((function(t){console.log(t)})).finally((function(){return t.isLoading=!1})))}},mounted:function(){this.drawerShow(),this.$watch("fields",(function(){console.log("a thing changed"),this.goToSearchedUserProfile()}),{deep:!0})}},wt=xt,It=(s("6430"),s("5bc1")),Pt=s("c6a6"),yt=s("ce7e"),Ut=s("34c3"),St=s("f774"),Tt=Object(l["a"])(wt,ot,lt,!1,null,"891e8efa",null),Vt=Tt.exports;u()(Tt,{VAppBar:M["a"],VAppBarNavIcon:It["a"],VAutocomplete:Pt["a"],VAvatar:x["a"],VBtn:N["a"],VCol:z["a"],VDivider:yt["a"],VIcon:X["a"],VList:W["a"],VListItem:G["a"],VListItemContent:K["a"],VListItemIcon:Ut["a"],VListItemTitle:K["b"],VMenu:Q["a"],VNavigationDrawer:St["a"],VRow:tt["a"],VSpacer:st["a"],VToolbarTitle:it["a"]});var jt={name:"Home",components:{RightSidebar:T,PostSection:rt,Navbar:Vt},data:function(){return{}},methods:{}},Ot=jt,Lt=Object(l["a"])(Ot,m,g,!1,null,null,null),Bt=Lt.exports;u()(Lt,{VCol:z["a"],VRow:tt["a"]});var Et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{"fill-height":""}},[s("v-row",[s("v-col",[s("v-card",{attrs:{flat:"",outlined:""}},[s("v-row",[s("v-col",{staticClass:"hidden-sm-and-down"},[s("v-img",{attrs:{src:t.loginImage,height:"600"}})],1),s("v-col",{attrs:{"align-self":"center"}},[s("v-card-text",[s("v-form",{ref:"loginForm",attrs:{"lazy-validation":""},model:{value:t.loginFormValid,callback:function(e){t.loginFormValid=e},expression:"loginFormValid"}},[s("v-card-text",[s("v-container",[s("v-card-text",{staticClass:"text-center pa-0 text-h6 mb-6"},[t._v(" Login with your credentials ")]),s("v-text-field",{attrs:{label:"E-mail Address",name:"email",rules:t.loginEmailRules,type:"email",color:"primary",required:"",placeholder:"Email"},model:{value:t.loginEmail,callback:function(e){t.loginEmail=e},expression:"loginEmail"}}),s("v-text-field",{attrs:{label:"Password",name:"password",rules:t.loginPasswordRules,"append-icon":t.loginPasswordShow?"mdi-eye":"mdi-eye-off",type:t.loginPasswordShow?"text":"password",color:"primary",required:"",placeholder:"Password"},on:{"click:append":function(e){t.loginPasswordShow=!t.loginPasswordShow}},model:{value:t.loginPassword,callback:function(e){t.loginPassword=e},expression:"loginPassword"}}),s("v-card-text",{staticClass:"text-right pr-0"},[s("span",{staticClass:"white primary--text reset"},[t._v("Forgot your PIN?")])]),s("v-btn",{attrs:{color:"primary darken-1",block:"",loading:t.loadingBtn,disabled:!t.loginFormValid},on:{click:t.login}},[t._v(" LOGIN ")]),s("v-col",{staticClass:"mt-3"},[s("span",[t._v("Not registered yet?")]),s("span",{staticClass:"ml-2 white primary--text cursor-pointer",on:{click:function(e){return t.goToRegister()}}},[t._v("Register here")])])],1)],1)],1)],1)],1)],1)],1)],1)],1),s("v-snackbar",{attrs:{timeout:"4000",top:"",center:"",shaped:"",color:t.snackbarColor?"green":"red darken-2"},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[s("v-btn",t._b({attrs:{text:"",outlined:"",fab:"","x-small":"",color:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",a,!1),[s("v-icon",[t._v("mdi-close ")])],1)]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackBarText)+" ")])],1)},Ft=[],Dt=(s("ac1f"),s("00b4"),{name:"Login",components:{},data:function(){return{drawer:!1,group:null,selectedItem:1,navigationItems:[{title:"login",icon:"login",text:"Login"},{title:"signUp",icon:"kodi",text:"Sign Up"},{title:"product",icon:"redhat",text:"Products"},{title:"about",icon:"poker-chip",text:"About"},{title:"about",icon:"cart",text:"Cart"}],credentialDialog:!1,tab:"tab-1",loginEmail:"",loginPassword:"",loginPasswordShow:!1,signUpName:"",signUpEmail:"",signUpPassword:"",signUpPasswordShow:!1,message:"",loadingBtn:!1,loading:!1,loginFormValid:!0,signUpFormValid:!0,snackBarText:"",snackbar:!1,snackbarColor:null,nameRules:[function(t){return!!t||"Username is required"}],loginEmailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}],signUpEmailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}],loginPasswordRules:[function(t){return!!t||"Password is required"}],signUpPasswordRules:[function(t){return!!t||"Password is required"}],selectRules:[function(t){return!!t||"Select a payment option"}],messageRules:[function(t){return!!t||"Message is required"}],loginImage:s("25b7")}},methods:{goToRegister:function(){this.$router.push("/register")},login:function(){var t=this;E.a.post("http://localhost:4000/api/auth/login",{email:this.loginEmail,password:this.loginPassword}).then((function(e){e.status>=200&&e.status<400&&(ft(e.data.accessToken),mt(e.data._id),t.$store.dispatch("setCurrentUserInState",e.data),t.$store.dispatch("setIsLoggedIn",e.data),t.$store.dispatch("setUserId",e.data),localStorage.setItem("token",e.data.accessToken),localStorage.setItem("email",e.data.email),localStorage.setItem("username",e.data.username),localStorage.setItem("userId",e.data._id),t.snackbarColor=!0,t.snackbar=!0,t.$router.push("/"))})).catch((function(e){var s=e.response.data;t.snackbar=!0,t.snackBarText="".concat(s)}))}}}),Rt=Dt,At=(s("e3b5"),s("4bd4")),Mt=s("8654"),Nt=Object(l["a"])(Rt,Et,Ft,!1,null,"68950242",null),$t=Nt.exports;u()(Nt,{VBtn:N["a"],VCard:I["a"],VCardText:$["b"],VCol:z["a"],VContainer:q["a"],VForm:At["a"],VIcon:X["a"],VImg:y["a"],VRow:tt["a"],VSnackbar:et["a"],VTextField:Mt["a"]});var zt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{"fill-height":""}},[s("v-row",[s("v-col",[s("v-card",{attrs:{flat:"",outlined:""}},[s("v-row",[s("v-col",{staticClass:"hidden-sm-and-down"},[s("v-img",{attrs:{src:t.registerImage,height:"600"}})],1),s("v-col",{attrs:{"align-self":"center"}},[s("v-card-text",[s("v-form",{ref:"signUpForm",attrs:{"lazy-validation":""},model:{value:t.signUpFormValid,callback:function(e){t.signUpFormValid=e},expression:"signUpFormValid"}},[s("v-card-text",[s("v-container",[s("v-card-text",{staticClass:"text-center pa-0 text-h6 mb-4"},[t._v(" Create New Account ")]),s("v-text-field",{attrs:{label:"Username",name:"username",rules:t.nameRules,type:"text",color:"primary",required:"",placeholder:"Username"},model:{value:t.signUpName,callback:function(e){t.signUpName=e},expression:"signUpName"}}),s("v-text-field",{attrs:{label:"E-mail Address",name:"email",rules:t.signUpEmailRules,type:"email",color:"primary",required:"",placeholder:"Email"},model:{value:t.signUpEmail,callback:function(e){t.signUpEmail=e},expression:"signUpEmail"}}),s("v-text-field",{attrs:{label:"Password",name:"password",rules:t.signUpPasswordRules,"append-icon":t.signUpPasswordShow?"mdi-eye":"mdi-eye-off",type:t.signUpPasswordShow?"text":"password",color:"primary",required:"",placeholder:"Password"},on:{"click:append":function(e){t.signUpPasswordShow=!t.signUpPasswordShow}},model:{value:t.signUpPassword,callback:function(e){t.signUpPassword=e},expression:"signUpPassword"}}),s("v-btn",{attrs:{color:"primary darken-1",block:"",loading:t.loadingBtn,disabled:!t.loginFormValid},on:{click:t.register}},[t._v(" SIGN UP ")]),s("v-col",{staticClass:"mt-3"},[s("span",[t._v("Already have an Account?")]),s("span",{staticClass:"ml-2 white primary--text cursor-pointer",on:{click:function(e){return t.goToLogin()}}},[t._v("Login")])])],1)],1)],1)],1)],1)],1)],1)],1)],1),s("v-snackbar",{attrs:{timeout:"4000",top:"",center:"",shaped:"",color:t.snackbarColor?"green":"red darken-2"},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[s("v-btn",t._b({attrs:{text:"",outlined:"",fab:"","x-small":"",color:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",a,!1),[s("v-icon",[t._v("mdi-close ")])],1)]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackBarText)+" ")])],1)},qt=[],Jt={name:"Register",components:{},data:function(){return{drawer:!1,group:null,selectedItem:1,navigationItems:[{title:"login",icon:"login",text:"Login"},{title:"signUp",icon:"kodi",text:"Sign Up"},{title:"product",icon:"redhat",text:"Products"},{title:"about",icon:"poker-chip",text:"About"},{title:"about",icon:"cart",text:"Cart"}],credentialDialog:!1,message:"",loadingBtn:!1,loading:!1,signUpFormValid:!0,loginFormValid:!0,upgradeValue:null,nameRules:[function(t){return!!t||"Username is required"}],selectRules:[function(t){return!!t||"Select a payment option"}],messageRules:[function(t){return!!t||"Message is required"}],registerImage:s("30fc"),signUpName:"",signUpEmail:"",signUpPassword:"",signUpPasswordShow:!1,signUpEmailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}],signUpPasswordRules:[function(t){return!!t||"Password is required"}],snackBarText:"",snackbar:!1,snackbarColor:null}},methods:{goToLogin:function(){this.$router.push("/login")},register:function(){var t=this;E.a.post("http://localhost:4000/api/auth/register",{username:this.signUpName,email:this.signUpEmail,password:this.signUpPassword}).then((function(e){e.status>=200&&e.status<400&&t.$router.push("/login")})).catch((function(e){var s=e.response.data;t.snackbar=!0,t.snackBarText="".concat(s)}))}}},Ht=Jt,Xt=(s("e071"),Object(l["a"])(Ht,zt,qt,!1,null,"0aeac496",null)),Wt=Xt.exports;u()(Xt,{VBtn:N["a"],VCard:I["a"],VCardText:$["b"],VCol:z["a"],VContainer:q["a"],VForm:At["a"],VIcon:X["a"],VImg:y["a"],VRow:tt["a"],VSnackbar:et["a"],VTextField:Mt["a"]});var Gt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("NavbarNew"),s("div",[s("div",{staticStyle:{position:"relative",left:"0",top:"0"}},[s("v-img",{staticClass:"main-img",attrs:{src:t.singleUser.coverPicture?t.singleUser.coverPicture:t.coverImage,height:"240"}}),s("div",{staticClass:"sub-icon"},[this.userId===this.currentUserId?s("v-btn",{attrs:{small:"",fab:""},on:{click:function(e){return t.editCoverPicture()}}},[s("v-icon",[t._v("mdi-camera")]),s("input",{ref:"uploaderCover",staticClass:"d-none",attrs:{type:"file"},on:{change:t.onFileChanged}})],1):t._e()],1)],1),s("div",[this.userId===this.currentUserId?s("div",{staticClass:"d-flex justify-center mt-n16"},[s("v-badge",{attrs:{bordered:"",right:"",bottom:"",color:"blue",icon:"mdi-camera","offset-x":"25","offset-y":"55"}},[s("v-avatar",{staticClass:"cursor-pointer",attrs:{color:"blue-grey darken-2",size:"178"}},[s("v-avatar",{attrs:{outlined:"",size:"170"}},[s("v-img",{staticClass:"cursor-pointer",attrs:{loading:t.isSelecting,src:t.singleUser.profilePicture?t.singleUser.profilePicture:t.profileImage},on:{click:t.editProfilePicture}})],1)],1)],1),s("input",{ref:"uploaderProfile",staticClass:"d-none",attrs:{type:"file"},on:{change:t.onFileChanged}})],1):s("div",{staticClass:"d-flex justify-center mt-n16"},[s("v-avatar",{staticClass:"outlined cursor-pointer",attrs:{color:"blue-grey darken-2",size:"180"}},[s("v-avatar",{attrs:{size:"170"}},[s("v-img",{attrs:{src:t.singleUser.profilePicture?t.singleUser.profilePicture:t.profileImage}})],1)],1)],1),s("div",{staticClass:"d-flex justify-center mt-4 title text-capitalize"},[t._v(" "+t._s(t.singleUser.username?t.singleUser.username:"Unknown")+" ")]),s("div",{staticClass:"d-flex justify-center"},[t._v(" "+t._s(t.singleUser.desc?t.singleUser.desc:"Unknown")+" ")])])]),s("v-row",[s("v-col",{attrs:{xs:"12",sm:"8",md:"7"}},[s("PostSectionProfile")],1),s("v-col",{attrs:{xs:"12",sm:"4",md:"5"}},[s("div",{staticClass:"pa-2"},[this.userId!==this.currentUserId?s("v-layout",[s("v-flex",{},[this.singleUser.followers&&this.singleUser.followers.includes(this.userId)?s("div",[s("v-btn",{staticClass:"pa-3 white--text text-capitalize",attrs:{color:"deep-purple lighten-2"},on:{click:t.unFollowUser}},[t._v("Unfollow "),s("v-icon",{attrs:{right:""}},[t._v("mdi-plus")])],1)],1):s("div",[s("v-btn",{staticClass:"pa-3 white--text text-capitalize",attrs:{color:"deep-purple lighten-2"},on:{click:t.followUser}},[t._v("Follow"),s("v-icon",{attrs:{right:""}},[t._v("mdi-plus")])],1)],1)]),s("v-flex",[s("div",[s("v-btn",{staticClass:"pa-3 white--text text-capitalize",attrs:{color:"deep-purple lighten-2"},on:{click:function(e){return t.startConversation()}}},[t._v("message"),s("v-icon",{attrs:{right:""}},[t._v("mdi-email")])],1)],1)])],1):t._e(),s("v-layout",{staticClass:"mt-5"},[s("v-flex",[s("span",{staticClass:"title mr-16"},[t._v("User Information")]),this.userId===this.currentUserId?s("span",[s("v-btn",{attrs:{text:"",fab:""},on:{click:function(e){return t.editUserInfo()}}},[s("v-icon",[t._v("mdi-pencil")])],1)],1):t._e(),s("div",[s("span",{staticClass:"mr-4"},[t._v("City :")]),s("span",{staticClass:"subtitle-1 grey--text"},[t._v(" "+t._s(t.singleUser.city?t.singleUser.city:"unknown")+" ")])]),s("div",[s("span",{staticClass:"mr-4"},[t._v("From :")]),s("span",{staticClass:"subtitle-1 grey--text"},[t._v(t._s(t.singleUser.from?t.singleUser.from:"unknown"))])]),s("div",[s("span",{staticClass:"mr-4"},[t._v("Relationship :")]),s("span",{staticClass:"subtitle-1 grey--text"},[t._v(t._s(t.singleUser.relationship?t.singleUser.relationship:"unknown"))])])])],1),s("v-layout",{staticClass:"mt-5"},[s("v-flex",[s("div",{staticClass:"title"},[t._v("User friends")]),this.friendsList.length>0?s("v-row",{staticClass:"p-2"},t._l(this.friendsList,(function(e){return s("v-col",{key:e._id,attrs:{cols:"4",xs:"12",sm:"6",md:"4"}},[s("v-card",{attrs:{height:"150"},on:{click:function(s){return t.goToFriendProfile(e.username,e._id)}}},[s("v-img",{attrs:{src:e.profilePicture?e.profilePicture:t.profileImage,alt:"John",height:"160"}})],1),s("div",{staticClass:"mt-2 font-weight-bold d-flex justify-center text-capitalize"},[t._v(" "+t._s(e.username?e.username:"unkwown")+" ")])],1)})),1):s("v-row",[s("v-col",[t._v(" No friends ")])],1)],1)],1)],1),s("div",{staticClass:"pa-2"},[s("v-layout",{staticClass:"mt-6"},[s("div",{staticClass:"title text-capitalize"},[t._v(" "+t._s(t.singleUser.username?t.singleUser.username:"Unknown")+" ")])]),s("v-layout",[s("v-flex",[s("v-layout",[s("div",{staticClass:"subtitle-2"},[t._v(" "+t._s(t.allPosts?t.allPosts.length:0)+" ")]),s("div",{staticClass:"subtitle-2 ml-1 grey--text"},[t._v("Posts")])])],1),s("v-flex",[s("v-layout",[s("div",{staticClass:"subtitle-2"},[t._v(" "+t._s(t.singleUser.followings?t.singleUser.followings.length:0)+" ")]),s("div",{staticClass:"subtitle-2 ml-1 grey--text"},[t._v("Followers")])])],1),s("v-flex",[s("v-layout",[s("div",{staticClass:"subtitle-2"},[t._v(" "+t._s(t.singleUser.followers?t.singleUser.followers.length:0)+" ")]),s("div",{staticClass:"subtitle-2 ml-1 grey--text"},[t._v("Followings")])])],1)],1),s("v-layout",{staticClass:"mt-4 subtitle-2 grey--text"},[t._v(" Uzir is a freelance developer based in Cedar Rapids IA, Always interested in learning about new Technologies and projects! "),s("br"),s("br"),t._v("Moved to the US 7 years ago for college and now working as a full time software developer and helping people reach their goals through entrepreneurship! ")]),s("v-layout",{staticClass:"mt-5"},[s("v-flex",[s("div",{staticClass:"subtitle-2"},[t._v("Locations")]),s("div",{staticClass:"subtitle-2 grey--text"},[t._v(" Based in Cedar Rapids, IA. ")])])],1),s("v-layout",{staticClass:"mt-5"},[s("v-flex",[s("div",{staticClass:"subtitle-2"},[t._v("Profession")]),s("div",{staticClass:"subtitle-2 grey--text"},[t._v("Developer")])])],1)],1)])],1),s("v-dialog",{attrs:{"max-width":"480"},model:{value:t.editUserInfoDialog,callback:function(e){t.editUserInfoDialog=e},expression:"editUserInfoDialog"}},[s("v-card",{attrs:{flat:""}},[s("v-card-text",[s("v-card-title",[t._v(" Edit Info "),s("v-spacer"),s("v-btn",{attrs:{color:"black",icon:""},on:{click:function(e){t.editUserInfoDialog=!1}}},[s("v-icon",[t._v("mdi-close")])],1)],1),s("v-divider"),s("v-form",{ref:"userInfoRef",attrs:{"lazy-validation":""}},[s("v-card-text",[s("v-container",[s("v-row",[s("v-col",{staticClass:"pa-0"},[s("v-textarea",{attrs:{label:"Description",outlined:"",rows:"3",name:"description",placeholder:"Brief Description"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1),s("v-col",{staticClass:"pa-0",attrs:{cols:"12"}},[s("v-text-field",{attrs:{label:"City",name:"city",type:"text",color:"primary1",outlined:"",placeholder:"City"},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}})],1),s("v-col",{staticClass:"pa-0",attrs:{cols:"12"}},[s("v-text-field",{attrs:{label:"From",name:"from",type:"text",color:"primary1",outlined:"",placeholder:"From"},model:{value:t.from,callback:function(e){t.from=e},expression:"from"}})],1),s("v-col",{staticClass:"pa-0",attrs:{cols:"12"}},[s("v-text-field",{attrs:{label:"Relationship",name:"relationship",type:"text",color:"primary1",outlined:"",placeholder:"Relationship"},model:{value:t.relationship,callback:function(e){t.relationship=e},expression:"relationship"}})],1)],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"primary darken-1",outlined:""},on:{click:t.updateUserInfo}},[t._v(" Save ")])],1)],1)],1)],1)],1),s("v-dialog",{attrs:{"max-width":"750"},model:{value:t.previewProfileDialog,callback:function(e){t.previewProfileDialog=e},expression:"previewProfileDialog"}},[s("v-card",[s("v-app-bar",{attrs:{flat:"",color:"white"}},[s("v-toolbar-title",{staticClass:"subtitle-1 pl-2"},[t._v(" Profile Image ")]),s("v-spacer"),s("v-btn",{attrs:{color:"black",icon:""},on:{click:t.deleteCloudinaryImage}},[s("v-icon",[t._v("mdi-close")])],1)],1),s("v-divider"),s("div",{staticClass:"backgroudUploadImage"},[s("v-card-text",{staticClass:"py-12 d-flex justify-center",attrs:{outlined:""}},[s("v-avatar",{staticClass:"outlined",attrs:{size:"180"}},[s("v-avatar",{attrs:{size:"170"}},[s("v-img",{attrs:{"max-height":"390",src:this.fileUrl}})],1)],1)],1)],1),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"primary darken-1",outlined:""},on:{click:t.uploadProfileImage}},[t._v(" Save ")])],1)],1)],1),s("v-dialog",{attrs:{"max-width":"980"},model:{value:t.previewCoverImageDialog,callback:function(e){t.previewCoverImageDialog=e},expression:"previewCoverImageDialog"}},[s("v-card",[s("v-app-bar",{attrs:{flat:"",color:"white"}},[s("v-toolbar-title",{staticClass:"subtitle-1 pl-2"},[t._v(" Cover Image ")]),s("v-spacer"),s("v-btn",{attrs:{color:"black",icon:""},on:{click:t.deleteCloudinaryImage}},[s("v-icon",[t._v("mdi-close")])],1)],1),s("v-divider"),s("div",[s("v-card-text",{staticClass:"d-flex justify-center",attrs:{outlined:""}},[s("v-card",{attrs:{height:"300"}},[s("v-img",{attrs:{src:this.fileUrl,width:"880",height:"300"}})],1)],1)],1),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"primary darken-1",outlined:""},on:{click:t.uploadCoverImage}},[t._v(" Save ")])],1)],1)],1),s("v-overlay",{attrs:{value:t.uploadOverlay}},[s("v-progress-circular",{attrs:{indeterminate:"",size:"100"}})],1),s("v-snackbar",{attrs:{timeout:"4000",top:"",center:"",shaped:"",color:t.snackbarColor?"green":"red darken-2"},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[s("v-btn",t._b({attrs:{text:"",outlined:"",fab:"","x-small":"",color:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",a,!1),[s("v-icon",[t._v("mdi-close ")])],1)]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackBarText)+" ")])],1)},Kt=[],Qt=(s("a4d3"),s("e01a"),s("1276"),s("7db0"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"pl-10"},[this.userId===this.currentUserId?s("v-row",{staticClass:"d-flex justify-center"},[s("v-col",{attrs:{cols:"12"}},[s("v-card",[s("v-card-text",{staticClass:"pb-0"},[s("v-row",[s("v-col",{staticClass:"pb-0"},[s("v-avatar",{attrs:{size:"40"}},[s("img",{attrs:{src:t.singleUser.profilePicture?t.singleUser.profilePicture:t.profilePic,alt:"John"}})]),s("v-textarea",{attrs:{"append-icon":"",name:"input-7-1",label:"What's on your mind ?",rows:"2"},model:{value:t.descriptionPost,callback:function(e){t.descriptionPost=e},expression:"descriptionPost"}})],1)],1)],1),s("v-card-actions",[s("v-file-input",{ref:"mediaAssetRef",attrs:{multiple:"",accept:"image/*","show-size":"",label:"Media Uploads"},on:{change:t.onAddFiles},model:{value:t.filename,callback:function(e){t.filename=e},expression:"filename"}}),s("v-spacer"),s("v-btn",{staticClass:"pa-3 white--text",attrs:{color:"deep-purple lighten-2"},on:{click:t.previewPost}},[t._v(" Share ")])],1)],1)],1)],1):t._e(),s("v-dialog",{attrs:{"max-width":"480"},model:{value:t.previewDialog,callback:function(e){t.previewDialog=e},expression:"previewDialog"}},[s("v-card",[s("v-app-bar",{attrs:{flat:"",color:"white"}},[s("v-avatar",{attrs:{size:"40"}},[s("img",{attrs:{src:t.singleUser.profilePicture?t.singleUser.profilePicture:t.profilePic,alt:"John"}})]),s("v-toolbar-title",{staticClass:"subtitle-1 pl-2"},[t._v(" "+t._s(t.username)+" ")]),s("v-spacer"),s("v-btn",{attrs:{color:"black",icon:""},on:{click:function(e){return t.closePreviewPost(t.singlePost._id)}}},[s("v-icon",[t._v("mdi-close")])],1)],1),s("v-card-text",{staticClass:"py-0"},[t._v(t._s(t.singlePost.desc))]),s("v-card-text",{staticClass:"pb-2"},[s("v-img",{attrs:{"max-height":"390",src:t.singlePost.img}})],1),s("v-card-actions",[s("div",{staticClass:"text-center"},[s("v-btn",{staticClass:"mx-3",attrs:{fab:"",dark:"","x-small":"",color:"primary",elevation:"0"}},[s("v-icon",{attrs:{dark:""}},[t._v("mdi-thumb-up ")])],1),s("v-btn",{staticClass:"mr-3",attrs:{fab:"",dark:"","x-small":"",color:"red",elevation:"0"}},[s("v-icon",{attrs:{dark:""}},[t._v(" mdi-heart ")])],1),s("span",{},[t._v("0 people like it")]),s("span",{staticClass:"mx-16"}),s("span",[s("v-btn",{staticClass:"pa-3 white--text",attrs:{outlined:"",color:"deep-purple"},on:{click:function(e){return t.continueToPost(t.singlePost)}}},[t._v(" continue ")])],1)],1)])],1)],1),this.allPosts.length>0?s("v-row",{staticClass:"d-flex justify-center"},t._l(this.allPosts,(function(e){return s("v-col",{key:e._id,staticClass:"py-6",attrs:{cols:"12"}},[s("v-card",[s("v-app-bar",{attrs:{flat:"",color:"white"}},[s("v-avatar",{attrs:{size:"40"}},[s("img",{attrs:{src:t.singleUser.profilePicture?t.singleUser.profilePicture:t.profilePic,alt:"John"}})]),s("v-toolbar-title",{staticClass:"subtitle-1 pl-2"},[t._v(" "+t._s(t.username)+" ")]),s("v-spacer"),s("v-menu",{attrs:{left:"",bottom:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[s("v-btn",t._g(t._b({attrs:{icon:"",color:"black"}},"v-btn",i,!1),a),[s("v-icon",[t._v("mdi-dots-vertical")])],1)]}}],null,!0)},[s("v-list",t._l(t.menuList,(function(a){return s("v-list-item",{key:a.title,on:{click:function(s){return t.popUpDrawer(a,e._id)}}},[s("v-list-item-title",[t._v(" "+t._s(a.title))])],1)})),1)],1)],1),s("v-card-text",{staticClass:"py-0"},[t._v(t._s(e.desc))]),s("v-card-text",{staticClass:"pb-0"},[e.img?s("div",[s("v-img",{staticClass:"grey lighten-2",attrs:{src:e.img?e.img:"","lazy-src":e.img?e.img:"","aspect-ratio":"1.3"},scopedSlots:t._u([{key:"placeholder",fn:function(){return[s("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[s("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}],null,!0)})],1):s("div",[s("v-img",{attrs:{"max-height":"400",src:e.img}})],1)]),s("v-card-actions",[s("div",{staticClass:"text-center"},[s("v-btn",{staticClass:"mx-3",attrs:{fab:"",dark:"","x-small":"",color:"primary",elevation:"0"}},[s("v-icon",{attrs:{dark:""}},[t._v("mdi-thumb-up ")])],1),s("v-btn",{staticClass:"mr-3",attrs:{fab:"",dark:"","x-small":"",color:"red",elevation:"0"}},[s("v-icon",{attrs:{dark:""}},[t._v(" mdi-heart ")])],1),s("span",{},[t._v(t._s(e.likes.length)+" people like it")]),s("span",{}),s("span",{}),s("span",{staticClass:"ml-16 hidden-sm-and-down"},[t._v("Comments")])],1)])],1)],1)})),1):s("v-row",[s("v-col",[s("v-card",[s("v-card-text",{staticClass:"title"},[t._v("Nothing has been posted")])],1)],1)],1),s("v-overlay",{attrs:{value:t.uploadOverlay}},[s("v-progress-circular",{attrs:{indeterminate:"",size:"100"}})],1),s("v-snackbar",{attrs:{timeout:"4000",top:"",center:"",shaped:"",color:t.snackbarColor?"green":"red darken-2"},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[s("v-btn",t._b({attrs:{text:"",outlined:"",fab:"","x-small":"",color:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",a,!1),[s("v-icon",[t._v("mdi-close ")])],1)]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackBarText)+" ")])],1)}),Yt=[],Zt={name:"PostSection",components:{},data:function(){return{mediaAsset:null,previewDialog:!1,descriptionPost:"",files:[],isError:!1,errorText:null,fileUrl:"",uploadOverlay:!1,userId:localStorage.getItem("userId"),allPosts:[],singlePost:{},menuList:[{title:"Delete"}],filename:null,username:this.$route.params.username,currentUserId:this.$route.params.id,singleUser:{},coverPicture:"",profilePic:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Unknown_person.jpg/925px-Unknown_person.jpg",friendsList:[],snackBarText:"",snackbar:!1,snackbarColor:null}},methods:{previewPost:function(){var t=this;E.a.post("http://localhost:4000/api/posts/",{userId:this.userId,desc:this.descriptionPost,img:this.fileUrl}).then((function(e){if(e.status>=200&&e.status<400){var s=e.data._id;t.getSinglePost(s),t.uploadOverlay=!1,t.previewDialog=!0}})).catch((function(t){return console.log(t)}))},continueToPost:function(t){this.allPosts.unshift(t),this.previewDialog=!1,this.filename=null,this.descriptionPost=""},closePreviewPost:function(t){this.deleteSinglePost(t),this.filename=null,this.descriptionPost="",this.previewDialog=!1},onAddFiles:function(t){var e=this;this.files=t,this.uploadOverlay=!0,this.files.length>0&&this.files.forEach((function(t){e.uploadFileToCloudinary(t).then((function(t){e.fileUrl=t.url,e.uploadOverlay=!1}))}))},uploadFileToCloudinary:function(t){return new Promise((function(e,s){var a="https://api.cloudinary.com/v1_1/".concat(F,"/upload"),i=D,n=new FormData;n.append("upload_preset",i),n.append("folder","social-media"),n.append("file",t);var r=new XMLHttpRequest;r.open("POST",a,!0),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.onreadystatechange=function(){if(4===r.readyState&&200===r.status){var t=JSON.parse(r.responseText);e(t)}if(200!==r.status){var a=JSON.parse(r.responseText),i=a.error.message;alert("error, status code not 200 "+i),s(i)}},r.onerror=function(t){alert("error: "+t),s(t)},r.send(n)}))},getAllPosts:function(){var t=this;E.a.get("http://localhost:4000/api/posts/profile/".concat(this.username,"/").concat(this.currentUserId)).then((function(e){e.status>=200&&e.status<400&&(t.allPosts=Object(L["a"])(e.data))})).catch((function(t){return console.log(t)}))},getSinglePost:function(t){var e=this;E.a.get("http://localhost:4000/api/posts/find/".concat(t)).then((function(t){t.status>=200&&t.status<400&&(e.singlePost=Object(O["a"])({},t.data))})).catch((function(t){return console.log(t)}))},deleteSinglePost:function(t){var e=this,s=Object(L["a"])(this.allPosts);E.a.delete("http://localhost:4000/api/posts/".concat(t,"/").concat(this.userId)).then((function(a){a.status>=200&&a.status<400&&(s.forEach((function(e,s,a){t===e._id&&a.splice(s,1)})),e.allPosts=s,console.log("Post successfully deleted"))})).catch((function(t){var s=t.response.data;e.snackbar=!0,e.snackBarText="".concat(s)}))},popUpDrawer:function(t,e){"Delete"===t.title&&this.deleteSinglePost(e)},getSingleUser:function(){var t=this;E.a.get("http://localhost:4000/api/users/find?username=".concat(this.username)).then((function(e){e.status>=200&&e.status<400&&(t.singleUser=Object(O["a"])({},e.data),console.log(t.singleUser))})).catch((function(t){return console.log(t)}))},getFriends:function(){var t=this;E.a.get("http://localhost:4000/api/users/friends/".concat(this.userId)).then((function(e){e.status>=200&&e.status<400&&(t.friendsList=Object(L["a"])(e.data),console.log(t.friendsList))})).catch((function(t){return console.log(t)}))}},mounted:function(){this.getAllPosts(),this.getSingleUser(),this.getFriends()}},te=Zt,ee=Object(l["a"])(te,Qt,Yt,!1,null,null,null),se=ee.exports;u()(ee,{VAppBar:M["a"],VAvatar:x["a"],VBtn:N["a"],VCard:I["a"],VCardActions:$["a"],VCardText:$["b"],VCol:z["a"],VContainer:q["a"],VDialog:J["a"],VFileInput:H["a"],VIcon:X["a"],VImg:y["a"],VList:W["a"],VListItem:G["a"],VListItemTitle:K["b"],VMenu:Q["a"],VOverlay:Y["a"],VProgressCircular:Z["a"],VRow:tt["a"],VSnackbar:et["a"],VSpacer:st["a"],VTextarea:at["a"],VToolbarTitle:it["a"]});var ae={name:"ProfilePage",components:{PostSectionProfile:se,NavbarNew:Vt},data:function(){return{singleUser:null,userId:localStorage.getItem("userId"),username:this.$route.params.username,currentUserId:this.$route.params.id,coverImage:s("25b7"),profileImage:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Unknown_person.jpg/925px-Unknown_person.jpg",friendsList:[],currentConversationBoolean:!1,receiverId:"",messages:[],currentConversationId:"",conversations:[],currentConversation:[],allPosts:[],editUserInfoDialog:!1,description:"",city:"",from:"",relationship:"",isSelecting:!1,selectedFile:null,fileUrl:"",uploadOverlay:!1,previewProfileDialog:!1,previewCoverImageDialog:!1,editProfilePicBoolean:!1,editCoverPicBoolean:!1,snackBarText:"",snackbar:!1,snackbarColor:null}},methods:{getSingleUser:function(){var t=this;E.a.get("http://localhost:4000/api/users/find?username=".concat(this.username)).then((function(e){e.status>=200&&e.status<400&&(t.singleUser=Object(O["a"])({},e.data))})).catch((function(t){return console.log(t)}))},getFriends:function(){var t=this;E.a.get("http://localhost:4000/api/users/friends/".concat(this.userId===this.currentUserId?this.userId:this.currentUserId)).then((function(e){e.status>=200&&e.status<400&&(t.friendsList=Object(L["a"])(e.data))})).catch((function(t){return console.log(t)}))},goToFriendProfile:function(t,e){this.$router.push("/profile/".concat(t,"/").concat(e)),location.reload()},followUser:function(){var t=this;E.a.put("http://localhost:4000/api/users/".concat(this.currentUserId,"/follow"),{userId:this.userId}).then((function(e){t.snackBarText=e.data,t.snackbar=!0,t.snackbarColor=!0,location.reload()})).catch((function(e){var s=e.response.data;t.snackbar=!0,t.snackBarText="".concat(s)}))},unFollowUser:function(){var t=this;E.a.put("http://localhost:4000/api/users/".concat(this.currentUserId,"/unfollow"),{userId:this.userId}).then((function(e){t.snackBarText=e.data,t.snackbar=!0,t.snackbarColor=!0,location.reload()})).catch((function(e){var s=e.response.data;t.snackbar=!0,t.snackBarText="".concat(s)}))},getAllPosts:function(){var t=this;E.a.get("http://localhost:4000/api/posts/profile/".concat(this.username,"/").concat(this.currentUserId)).then((function(e){e.status>=200&&e.status<400&&(t.allPosts=Object(L["a"])(e.data),console.log(t.allPosts.length))})).catch((function(t){return console.log(t)}))},editUserInfo:function(){this.editUserInfoDialog=!0,this.description=this.singleUser.desc,this.city=this.singleUser.city,this.from=this.singleUser.from,this.relationship=this.singleUser.relationship},updateUserInfo:function(){var t=this;E.a.put("http://localhost:4000/api/users/".concat(this.userId),{userId:this.userId,desc:this.description,city:this.city,from:this.from,relationship:this.relationship}).then((function(e){t.editUserInfoDialog=!1,t.snackBarText=e.data,t.snackbar=!0,t.snackbarColor=!0,location.reload(),console.log(e.data)})).catch((function(e){var s=e.response.data;t.snackbar=!0,t.snackBarText="".concat(s)}))},handleFileImportProfile:function(){var t=this;this.isSelecting=!0,window.addEventListener("focus",(function(){t.isSelecting=!1}),{once:!0}),this.$refs.uploaderProfile.click()},handleFileImportCover:function(){var t=this;this.isSelecting=!0,window.addEventListener("focus",(function(){t.isSelecting=!1}),{once:!0}),this.$refs.uploaderCover.click()},onFileChanged:function(t){var e=this;this.selectedFile=t.target.files[0],this.uploadOverlay=!0,this.uploadFileToCloudinary(this.selectedFile).then((function(t){e.fileUrl=t.url,e.uploadOverlay=!1,e.editProfilePicBoolean?e.previewProfileDialog=!0:e.editCoverPicBoolean&&(e.previewCoverImageDialog=!0)}))},uploadFileToCloudinary:function(t){return new Promise((function(e,s){var a="https://api.cloudinary.com/v1_1/".concat(F,"/upload"),i=D,n=new FormData;n.append("upload_preset",i),n.append("folder","social-media"),n.append("file",t);var r=new XMLHttpRequest;r.open("POST",a,!0),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.onreadystatechange=function(){if(4===r.readyState&&200===r.status){var t=JSON.parse(r.responseText);e(t)}if(200!==r.status){var a=JSON.parse(r.responseText),i=a.error.message;alert("error, status code not 200 "+i),s(i)}},r.onerror=function(t){alert("error: "+t),s(t)},r.send(n)}))},editProfilePicture:function(){this.editProfilePicBoolean=!0,this.handleFileImportProfile()},editCoverPicture:function(){this.editCoverPicBoolean=!0,this.handleFileImportCover()},uploadProfileImage:function(){var t=this;E.a.put("http://localhost:4000/api/users/".concat(this.userId),{userId:this.userId,profilePicture:this.fileUrl}).then((function(e){t.previewProfileDialog=!1,t.editProfilePicBoolean=!1,t.snackBarText=e.data,t.snackbar=!0,t.snackbarColor=!0,location.reload(),console.log(e.data)})).catch((function(e){var s=e.response.data;t.snackbar=!0,t.snackBarText="".concat(s)}))},uploadCoverImage:function(){var t=this;E.a.put("http://localhost:4000/api/users/".concat(this.userId),{userId:this.userId,coverPicture:this.fileUrl}).then((function(e){t.previewCoverImageDialog=!1,t.editCoverPicBoolean=!1,t.snackBarText=e.data,t.snackbar=!0,t.snackbarColor=!0,location.reload(),console.log(e.data)})).catch((function(e){var s=e.response.data;t.snackbar=!0,t.snackBarText="".concat(s)}))},deleteCloudinaryImage:function(){var t=this;this.editCoverPicBoolean=!1,this.editProfilePicBoolean=!1;var e=this.fileUrl.split("/").slice(-1)[0].split(".")[0];E.a.delete("http://localhost:4000/api/posts/".concat(this.userId,"/").concat(e,"/remove")).then((function(e){t.previewProfileDialog=!1,t.previewCoverImageDialog=!1,location.reload(),console.log(e.data)})).catch((function(e){var s=e.response.data;t.snackbar=!0,t.snackBarText="".concat(s)}))},getConversation:function(t){var e=this;this.currentConversationBoolean=!0,this.receiverId=t;var s=[];E.a.get("http://localhost:4000/api/conversations/".concat(t)).then((function(t){s=Object(L["a"])(t.data),console.log(t.data,"conversations"),e.messages=[],s.forEach((function(t){e.getMessages(t._id)}))})).catch((function(t){var s=t.response.data;e.snackbar=!0,e.snackBarText="".concat(s)}))},getMessages:function(t){var e=this;this.currentConversationId=t,this.currentConversation=this.conversations.find((function(t){return t._id===e.currentConversationId})),console.log(this.currentConversation,"current-conversations"),E.a.get("http://localhost:4000/api/messages/".concat(t)).then((function(t){e.messages.push(t.data)})).catch((function(t){var s=t.response.data;e.snackbar=!0,e.snackBarText="".concat(s)}))},createConversation:function(){var t=this;E.a.post("http://localhost:4000/api/conversations/",{senderId:this.userId,receiverId:this.currentUserId}).then((function(e){t.currentConversation=e.data,t.currentConversationBoolean=!0,t.receiverId=t.currentUserId;var s=[];E.a.get("http://localhost:4000/api/conversations/".concat(t.receiverId)).then((function(e){s=Object(L["a"])(e.data),t.messages=[],s.forEach((function(e){t.getMessages(e._id),t.$router.push("/messenger")}))})).catch((function(t){return console.log(t)}))})).catch((function(e){var s=e.response.data;t.snackbar=!0,t.snackBarText="".concat(s)}))},startConversation:function(){this.createConversation()}},mounted:function(){this.getSingleUser(),this.getFriends(),this.getAllPosts()}},ie=ae,ne=(s("6176"),Object(l["a"])(ie,Gt,Kt,!1,null,"04819406",null)),re=ne.exports;u()(ne,{VAppBar:M["a"],VAvatar:x["a"],VBadge:w["a"],VBtn:N["a"],VCard:I["a"],VCardActions:$["a"],VCardText:$["b"],VCardTitle:$["c"],VCol:z["a"],VContainer:q["a"],VDialog:J["a"],VDivider:yt["a"],VFlex:P["a"],VForm:At["a"],VIcon:X["a"],VImg:y["a"],VLayout:U["a"],VOverlay:Y["a"],VProgressCircular:Z["a"],VRow:tt["a"],VSnackbar:et["a"],VSpacer:st["a"],VTextField:Mt["a"],VTextarea:at["a"],VToolbarTitle:it["a"]});var oe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Navbar"),s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{md:"3",sm:"4",cols:"12"}},[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-autocomplete",{ref:"users",attrs:{items:t.itemsItems,loading:t.isLoading,"search-input":t.search,color:"blue-grey darken-2","hide-no-data":"","hide-selected":"","item-text":"Username","item-value":"API",label:"Search by username",placeholder:"Start typing to Search","return-object":"","single-line":"","hide-details":"",rounded:"",outlined:"",dense:"","prepend-inner-icon":"mdi-magnify"},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e}},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[s("div",{staticClass:"title pl-2"},[t._v("Chat List")])]),s("v-col",{staticClass:"pa-3"},t._l(this.userChatPartners,(function(e,a){return s("v-hover",{key:a,scopedSlots:t._u([{key:"default",fn:function(a){var i=a.hover;return[s("v-col",{staticClass:"pa-0"},[s("v-card",{staticClass:"ma-2 pa-1",attrs:{outlined:"",elevation:i?2:0}},[s("div",{staticClass:"py-3"},[s("v-row",[s("v-col",{staticClass:"cursor-pointer",attrs:{cols:"8"},on:{click:function(s){return t.getConversation(e._id)}}},[s("span",[s("v-avatar",{attrs:{size:"50"}},[s("v-img",{attrs:{src:e.profilePicture?e.profilePicture:t.profileImage}})],1)],1),s("span",{staticClass:"subtitle-1 ml-2",attrs:{"align-self":"center"}},[t._v(t._s(e.username)+" ")])]),s("v-col",{attrs:{cols:"4"}},[i?s("v-btn",{attrs:{outlined:"",small:"",color:"black",text:"",fab:""},on:{click:function(s){return t.deleteConversation(e._id)}}},[s("v-icon",[t._v("mdi-close")])],1):t._e()],1)],1)],1)])],1)]}}],null,!0)})})),1)],1)],1),s("v-col",{attrs:{md:"6",sm:"8",cols:"12"}},[s("v-row",[s("v-col",[this.currentConversationBoolean?s("v-card",{attrs:{outlined:""}},[s("div",{staticClass:"chatBox",attrs:{id:"chatBoxId"}},[s("div",{staticClass:"chatBoxWrapper"},[s("div",{staticClass:"chatBoxTop",attrs:{id:"chatBoxTopId"}},t._l(this.messages,(function(e,a){return s("v-col",{key:a},t._l(e,(function(e,a){return s("v-col",{key:a},[s("Message",{attrs:{own:e.sender===t.userId,message:e}})],1)})),1)})),1),s("div",{staticClass:"chatBoxBottom"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.userInputText,expression:"userInputText"}],staticClass:"chatMessageInput",attrs:{name:"",outlined:"",placeholder:"Write something.."},domProps:{value:t.userInputText},on:{input:function(e){e.target.composing||(t.userInputText=e.target.value)}}}),s("button",{staticClass:"chatSubmitButton",on:{click:t.handleSubmit}},[t._v(" Send ")])])])])]):s("v-col",[s("div",{staticClass:"display-2 pa-8"},[t._v(" Open a conversation to start a chat ")])])],1)],1)],1),s("v-col",{attrs:{md:"3",sm:"12",cols:"12"}},[s("div",{staticClass:"title"},[t._v("Online Friends")]),this.onlineFriends.length>0?s("v-col",{staticClass:"pa-0 mt-7"},t._l(this.onlineFriends,(function(e,a){return s("v-row",{key:a},[s("v-col",[s("div",{attrs:{cols:"12"}},[s("span",{staticClass:"mr-4",on:{click:function(s){return t.handleOnlineClick(e)}}},[s("v-badge",{attrs:{bordered:"",right:"",color:"green","offset-x":"15","offset-y":"15"}},[s("v-avatar",{attrs:{size:"50"}},[s("v-img",{attrs:{src:e.profilePicture?e.profilePicture:t.profilePic,alt:"John"}})],1)],1)],1),s("span",{staticClass:"subtitle-1"},[t._v(t._s(e.username))])])])],1)})),1):s("v-col",[s("div",[t._v("No friends online")])])],1)],1)],1),s("v-snackbar",{attrs:{timeout:"4000",top:"",center:"",shaped:"",color:t.snackbarColor?"green":"red darken-2"},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[s("v-btn",t._b({attrs:{text:"",outlined:"",fab:"","x-small":"",color:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",a,!1),[s("v-icon",[t._v("mdi-close ")])],1)]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackBarText)+" ")])],1)},le=[],ce=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{class:this.own?"message own":"message"},[s("div",{staticClass:"messageTop"},[s("img",{staticClass:"messageImg",attrs:{src:t.profileImage,alt:""}}),s("p",{staticClass:"messageText"},[t._v(" "+t._s(t.message.text)+" ")])]),s("div",{staticClass:"messageBottom"},[t._v(t._s(this.formattedTime))])])])},ue=[],de=s("c72b"),ve={name:"Message",props:["own","message"],components:{},data:function(){return{formattedTime:"",profileImage:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Unknown_person.jpg/925px-Unknown_person.jpg"}},methods:{formatTime:function(){this.formattedTime=Object(de["a"])(this.message.createdAt)}},mounted:function(){this.formatTime()}},pe=ve,he=(s("1cb6"),Object(l["a"])(pe,ce,ue,!1,null,"35b0fb0a",null)),fe=he.exports,me=s("daa8"),ge={name:"Messenger",components:{Navbar:Vt,Message:fe},data:function(){return{searchTerm:"",own:!0,userId:localStorage.getItem("userId"),conversations:[],userChatPartners:[],profileImage:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Unknown_person.jpg/925px-Unknown_person.jpg",currentConversationBoolean:!1,currentConversation:null,messages:[],userInputText:"",currentConversationId:"",socket:null,arrivalMessage:null,onlineUsers:[],friendsList:[],onlineFriends:[],profilePic:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Unknown_person.jpg/925px-Unknown_person.jpg",receiverId:"",users:["Afghanistan","Albani"],usernameLimit:60,entries:[],isLoading:!1,model:null,search:null,snackBarText:"",snackbar:!1,snackbarColor:null}},methods:{getConversations:function(){var t=this;E.a.get("http://localhost:4000/api/conversations/".concat(this.userId)).then((function(e){t.conversations=Object(L["a"])(e.data),console.log(t.conversations,"---------convo"),t.getUserChatFriends()})).catch((function(t){return console.log(t)}))},getUserChatFriends:function(){var t=this,e=[];this.conversations.forEach((function(s){var a=s.members.find((function(e){return e!==t.userId}));e.push(a)})),e.forEach((function(e){E.a.get("http://localhost:4000/api/users/find?userId=".concat(e)).then((function(e){t.userChatPartners.push(e.data)})).catch((function(t){return console.log(t)}))}))},getConversation:function(t){var e=this;this.currentConversationBoolean=!0,this.receiverId=t;var s=[];E.a.get("http://localhost:4000/api/conversations/".concat(t)).then((function(a){s=Object(L["a"])(a.data),console.log(a.data,"conversations",t,"partnerId"),e.messages=[],s.forEach((function(t){e.getMessages(t._id)}))})).catch((function(t){return console.log(t)}))},getMessages:function(t){var e=this;this.currentConversationId=t,this.currentConversation=this.conversations.find((function(t){return t._id===e.currentConversationId})),console.log(this.currentConversation,"current-conversations"),E.a.get("http://localhost:4000/api/messages/".concat(t)).then((function(t){e.messages.push(t.data),e.scrollToLastMessage()})).catch((function(t){return console.log(t)}))},handleSubmit:function(){var t=this,e={sender:this.userId,text:this.userInputText,conversationId:this.currentConversationId};this.socket.emit("sendMessage",{senderId:this.userId,receiverId:this.receiverId,text:this.userInputText}),E.a.post("http://localhost:4000/api/messages/",e).then((function(e){t.messages=[].concat(Object(L["a"])(t.messages),[e.data]),t.messages=[],t.getMessages(t.currentConversationId),t.userInputText=""})).catch((function(t){return console.log(t)}))},scrollToLastMessage:function(){var t=document.getElementById("chatBoxId");console.log(t.scrollTop,"top"),console.log(t.scrollHeight,"height"),t.scrollTop+=t.scrollHeight,t.scrollIntoView(!0),console.log(t.scrollTop,"height after")},setSocket:function(){this.socket=Object(me["a"])("ws://localhost:8900")},getMessagesFromSocket:function(){var t=this;this.socket.on("getMessage",(function(e){t.arrivalMessage={sender:e.senderId,text:e.text,createdAt:Date.now()}})),console.log(this.arrivalMessage,"arrivalMessage")},sendMessageToServer:function(){var t=this;this.socket.emit("addUser",this.userId),this.socket.on("getUsers",(function(e){t.onlineUsers=Object(L["a"])(e),console.log(e,"users-----")}))},addingArrivalMessage:function(){var t;this.arrivalMessage&&null!==(t=this.currentConversation)&&void 0!==t&&t.members.includes(this.arrivalMessage.sender)&&(this.messages=[].concat(Object(L["a"])(this.messages),[this.arrivalMessage]))},getFriends:function(){var t=this;E.a.get("http://localhost:4000/api/users/friends/".concat(this.userId)).then((function(e){e.status>=200&&e.status<400&&(t.friendsList=Object(L["a"])(e.data),t.setOnlineFriends())})).catch((function(t){return console.log(t)}))},setOnlineFriends:function(){var t=[];this.onlineUsers.forEach((function(e){t.push(e.userId)})),this.onlineFriends=this.friendsList.filter((function(e){return t.includes(e._id)}))},handleOnlineClick:function(t){var e=this;E.a.get("http://localhost:4000/api/conversations/find/".concat(this.userId,"/").concat(t._id)).then((function(t){var s=t.data;e.currentConversationBoolean=!0,e.messages=[],e.getMessages(s._id)})).catch((function(t){return console.log(t)}))},createConversation:function(){var t=this;E.a.post("http://localhost:4000/api/conversations/",{senderId:this.userId,receiverId:this.fields[0].value}).then((function(e){t.currentConversation=e.data,t.currentConversationBoolean=!0,t.receiverId=t.fields[0].value;var s=[];E.a.get("http://localhost:4000/api/conversations/".concat(t.receiverId)).then((function(e){s=Object(L["a"])(e.data),t.messages=[],s.forEach((function(e){t.getMessages(e._id)}))})).catch((function(t){return console.log(t)}))})).catch((function(t){return console.log(t)}))},startConversation:function(){this.createConversation()},deleteConversation:function(t){var e=this;E.a.get("http://localhost:4000/api/conversations/find/".concat(this.userId,"/").concat(t)).then((function(s){var a=s.data,i=Object(L["a"])(e.userChatPartners);E.a.delete("http://localhost:4000/api/conversations/".concat(e.userId,"/").concat(t,"/").concat(a._id)).then((function(s){s.status>=200&&s.status<400&&(i.forEach((function(e,s,a){e._id===t&&a.splice(s,1)})),e.userChatPartners=i,e.currentConversationBoolean=!1,e.snackBarText=s.data,e.snackbar=!0,e.snackbarColor=!0)})).catch((function(t){var s=t.response.data;e.snackbar=!0,e.snackBarText="".concat(s)}))})).catch((function(t){return console.log(t)}))}},computed:{fields:function(){var t=this;return this.model?Object.keys(this.model).map((function(e){return{key:e,value:t.model[e]||""}})):[]},itemsItems:function(){var t=this;return this.entries.map((function(e){var s=e.username.length>t.usernameLimit?e.username.slice(0,t.usernameLimit)+"...":e.username;return Object.assign({},e,{Username:s})}))}},watch:{search:function(){var t=this;this.itemsItems.length>0||this.isLoading||(this.isLoading=!0,E.a.get("http://localhost:4000/api/users/").then((function(e){t.entries=e.data})).catch((function(t){console.log(t)})).finally((function(){return t.isLoading=!1})))}},mounted:function(){this.getConversations(),this.setSocket(),this.getMessagesFromSocket(),this.sendMessageToServer(),this.getFriends(),this.$watch("fields",(function(){console.log("a thing changed"),this.startConversation()}),{deep:!0})}},be=ge,ke=(s("44d9"),s("ce87")),Ce=Object(l["a"])(be,oe,le,!1,null,"e73622f8",null),_e=Ce.exports;u()(Ce,{VAutocomplete:Pt["a"],VAvatar:x["a"],VBadge:w["a"],VBtn:N["a"],VCard:I["a"],VCol:z["a"],VContainer:q["a"],VHover:ke["a"],VIcon:X["a"],VImg:y["a"],VRow:tt["a"],VSnackbar:et["a"]}),a["a"].use(f["a"]);var xe=[{path:"/",name:"Home",component:Bt,meta:{requiresAuth:!0}},{path:"/about",name:"About",component:function(){return s.e("chunk-2d22d746").then(s.bind(null,"f820"))},meta:{requiresAuth:!1}},{path:"/login",name:"Login",component:$t,meta:{requiresAuth:!1}},{path:"/register",name:"Register",component:Wt,meta:{requiresAuth:!1}},{path:"/profile/:username/:id",name:"ProfilePage",component:re,meta:{requiresAuth:!0}},{path:"/messenger",name:"Messenger",component:_e,meta:{requiresAuth:!0}}],we=new f["a"]({mode:"history",base:"/",routes:xe});we.beforeEach((function(t,e,s){t.meta.requiresAuth&&!bt()?s({name:"Login",query:{redirect:t.fullPath}}):s()}));var Ie=we,Pe=s("f309");a["a"].use(Pe["a"]);var ye=new Pe["a"]({});E.a.defaults.headers={Authorization:"Bearer ".concat(gt())},a["a"].config.productionTip=!1,new a["a"]({router:Ie,store:vt,vuetify:ye,render:function(t){return t(h)}}).$mount("#app")},6176:function(t,e,s){"use strict";s("e2c1")},6430:function(t,e,s){"use strict";s("4cee")},abb4:function(t,e,s){},e071:function(t,e,s){"use strict";s("ef51")},e2c1:function(t,e,s){},e3b5:function(t,e,s){"use strict";s("49e5")},ef51:function(t,e,s){}});
//# sourceMappingURL=app.d51786b0.js.map