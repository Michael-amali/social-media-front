(function(t){function e(e){for(var s,r,o=e[0],c=e[1],l=e[2],u=0,v=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&v.push(n[r][0]),n[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(e);while(v.length)v.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,r=1;r<a.length;r++){var c=a[r];0!==n[c]&&(s=!1)}s&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},n={app:0},i=[];function r(t){return o.p+"js/"+({}[t]||t)+"."+{"chunk-2d22d746":"cbc718ac"}[t]+".js"}function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(t){var e=[],a=n[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise((function(e,s){a=n[t]=[e,s]}));e.push(a[2]=s);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=r(t);var l=new Error;i=function(e){c.onerror=c.onload=null,clearTimeout(u);var a=n[t];if(0!==a){if(a){var s=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",l.name="ChunkLoadError",l.type=s,l.request=i,a[1](l)}n[t]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(e)},o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"03ad":function(t,e,a){"use strict";a("9877")},"093f":function(t,e,a){},"1cb6":function(t,e,a){"use strict";a("abb4")},"25b7":function(t,e,a){t.exports=a.p+"img/blueflowers.0e00fb12.jpeg"},"30fc":function(t,e,a){t.exports=a.p+"img/registerImag.403f4b9d.jpeg"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-main",[a("router-view",{key:t.$route.path})],1)],1)},i=[],r={name:"App",data:function(){return{}}},o=r,c=a("2877"),l=a("6544"),u=a.n(l),d=a("7496"),v=a("f6c4"),p=Object(c["a"])(o,n,i,!1,null,null,null),f=p.exports;u()(p,{VApp:d["a"],VMain:v["a"]});a("d3b7"),a("3ca3"),a("ddb0");var m=a("8c4f"),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Navbar"),a("v-row",[a("v-col",{attrs:{xs:"12",sm:"8",md:"7"}},[a("PostSection")],1),a("v-col",{attrs:{xs:"12",sm:"4",md:"5"}},[a("RightSidebar")],1)],1)],1)},h=[],b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pa-2"},[a("v-layout",[a("v-card",{attrs:{height:"300",width:"100%"}},[a("v-img",{attrs:{height:"300","lazy-src":"https://images.pexels.com/photos/10196058/pexels-photo-10196058.jpeg?cs=srgb&dl=pexels-imad-clicks-10196058.jpg&fm=jpg",src:"https://images.pexels.com/photos/10196058/pexels-photo-10196058.jpeg?cs=srgb&dl=pexels-imad-clicks-10196058.jpg&fm=jpg",alt:"John"}})],1)],1),a("v-layout",{staticClass:"mt-4 subtitle-2 grey--text"},[t._v(" Uzir is a freelance developer based in Cedar Rapids IA, Always interested in learning about new Technologies and projects! "),a("br"),a("br"),t._v("Moved to the US 7 years ago for college and now working as a full time software developer and helping people reach their goals through entrepreneurship! ")]),a("v-layout",{staticClass:"mt-5"},[a("v-flex",[a("div",{staticClass:"subtitle-2"},[t._v("Locations")]),a("div",{staticClass:"subtitle-2 grey--text"},[t._v("Based in Cedar Rapids, IA.")])])],1),a("v-layout",{staticClass:"mt-5"},[a("v-flex",[a("div",{staticClass:"subtitle-2"},[t._v("Profession")]),a("div",{staticClass:"subtitle-2 grey--text"},[t._v("Developer")])])],1),a("div",[a("div",{staticClass:"title mt-8"},[t._v("Online Friends")]),a("div",{staticClass:"py-5"},[a("span",{staticClass:"mr-4"},[a("v-badge",{attrs:{bordered:"",right:"",color:"green","offset-x":"15","offset-y":"15"}},[a("v-avatar",{attrs:{size:"50"}},[a("v-img",{attrs:{src:"https://cdn.vuetifyjs.com/images/lists/3.jpg"}})],1)],1)],1),a("span",{staticClass:"subtitle-1"},[t._v("Pamela Kim ")])]),a("div",[a("span",{staticClass:"mr-4"},[a("v-badge",{attrs:{bordered:"",right:"",color:"green","offset-x":"15","offset-y":"15"}},[a("v-avatar",{attrs:{size:"50"}},[a("v-img",{attrs:{src:"https://cdn.vuetifyjs.com/images/lists/5.jpg"}})],1)],1)],1),a("span",{staticClass:"subtitle-1"},[t._v("Rema Newton")])]),a("div",{staticClass:"py-5"},[a("span",{staticClass:"mr-4"},[a("v-badge",{attrs:{bordered:"",right:"",color:"green","offset-x":"15","offset-y":"15"}},[a("v-avatar",{attrs:{size:"50"}},[a("v-img",{attrs:{src:"https://cdn.vuetifyjs.com/images/lists/2.jpg"}})],1)],1)],1),a("span",{staticClass:"subtitle-1"},[t._v("Victony ")])])])],1)},k=[],C={data:function(){return{friendsList:[]}}},_=C,x=a("8212"),w=a("4ca6"),I=a("b0af"),P=a("0e8f"),y=a("adda"),U=a("a722"),S=Object(c["a"])(_,b,k,!1,null,null,null),T=S.exports;u()(S,{VAvatar:x["a"],VBadge:w["a"],VCard:I["a"],VFlex:P["a"],VImg:y["a"],VLayout:U["a"]});var V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"pl-10"},[a("v-row",{staticClass:"d-flex justify-center"},[a("v-col",{attrs:{cols:"12"}},[a("v-card",[a("v-card-text",{staticClass:"pb-0"},[a("v-row",[a("v-col",{staticClass:"pb-0"},[a("v-avatar",{attrs:{size:"40"}},[a("img",{attrs:{src:t.singleUser.profilePicture?t.singleUser.profilePicture:t.profilePic,alt:"John"}})]),a("v-textarea",{attrs:{"append-icon":"",name:"input-7-1",label:"What's on your mind ?",rows:"2"},model:{value:t.descriptionPost,callback:function(e){t.descriptionPost=e},expression:"descriptionPost"}})],1)],1)],1),a("v-card-actions",[a("v-file-input",{ref:"mediaAssetRef",attrs:{multiple:"",accept:"image/*","show-size":"",label:"Media Uploads"},on:{change:t.onAddFiles},model:{value:t.filename,callback:function(e){t.filename=e},expression:"filename"}}),a("v-spacer"),a("v-btn",{staticClass:"pa-3 white--text",attrs:{color:"deep-purple lighten-2"},on:{click:t.previewPost}},[t._v(" Share ")])],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"480"},model:{value:t.previewDialog,callback:function(e){t.previewDialog=e},expression:"previewDialog"}},[a("v-card",[a("v-app-bar",{attrs:{flat:"",color:"white"}},[a("v-avatar",{attrs:{size:"40"}},[a("img",{attrs:{src:t.singleUser.profilePicture?t.singleUser.profilePicture:t.profilePic,alt:"John"}})]),a("v-toolbar-title",{staticClass:"subtitle-1 pl-2"},[t._v(" John Doe ")]),a("v-spacer"),a("v-btn",{attrs:{color:"black",icon:""},on:{click:function(e){return t.closePreviewPost(t.singlePost._id)}}},[a("v-icon",[t._v("mdi-close")])],1)],1),a("v-card-text",{staticClass:"py-0"},[t._v(t._s(t.singlePost.desc))]),a("v-card-text",{staticClass:"pb-2"},[a("v-img",{attrs:{"max-height":"390",src:t.singlePost.img}})],1),a("v-card-actions",[a("div",{staticClass:"text-center"},[a("v-btn",{staticClass:"mx-3",attrs:{fab:"",dark:"","x-small":"",color:"primary",elevation:"0"}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-thumb-up ")])],1),a("v-btn",{staticClass:"mr-3",attrs:{fab:"",dark:"","x-small":"",color:"red",elevation:"0"}},[a("v-icon",{attrs:{dark:""}},[t._v(" mdi-heart ")])],1),a("span",{},[t._v("0 people like it")]),a("span",{staticClass:"mx-16"}),a("span",[a("v-btn",{staticClass:"pa-3 white--text",attrs:{outlined:"",color:"deep-purple"},on:{click:function(e){return t.continueToPost(t.singlePost)}}},[t._v(" continue ")])],1)],1)])],1)],1),a("v-row",{staticClass:"d-flex justify-center"},t._l(this.allPosts,(function(e){return a("v-col",{key:e._id,staticClass:"pb-6",attrs:{cols:"12"}},[t._l(t.friendsList,(function(s){return a("v-col",{key:s._id,staticClass:"pa-0"},[e.userId===s._id?a("v-col",{staticClass:"pa-0"},[a("v-card",[a("v-app-bar",{attrs:{flat:"",color:"white"}},[a("v-avatar",{attrs:{size:"40"}},[a("img",{attrs:{src:s.profilePicture?s.profilePicture:t.profilePic,alt:"John"}})]),a("v-toolbar-title",{staticClass:"subtitle-1 pl-2"},[t._v(" "+t._s(s.username)+" ")]),a("v-spacer"),a("v-menu",{attrs:{left:"",bottom:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:"",color:"black"}},"v-btn",n,!1),s),[a("v-icon",[t._v("mdi-dots-vertical")])],1)]}}],null,!0)},[a("v-list",t._l(t.menuList,(function(s){return a("v-list-item",{key:s.title,on:{click:function(a){return t.popUpDrawer(s,e._id)}}},[a("v-list-item-title",[t._v(" "+t._s(s.title))])],1)})),1)],1)],1),a("v-card-text",{staticClass:"py-0"},[t._v(t._s(e.desc))]),a("v-card-text",{staticClass:"pb-0"},[a("v-img",{attrs:{"max-height":"400",src:e.img}})],1),a("v-card-actions",[a("div",{staticClass:"text-center"},[a("v-btn",{staticClass:"mx-3",attrs:{fab:"",dark:"","x-small":"",color:"primary",elevation:"0"},on:{click:function(a){return t.likePost(e)}}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-thumb-up ")])],1),a("v-btn",{staticClass:"mr-3",attrs:{fab:"",dark:"","x-small":"",color:"red",elevation:"0"}},[a("v-icon",{attrs:{dark:""}},[t._v(" mdi-heart ")])],1),a("span",{},[t._v(t._s(e.likes.length)+" people like it")]),a("span",{staticClass:"ml-16"}),a("span",{staticClass:"ml-16"}),a("span",{staticClass:"ml-16 hidden-sm-and-down"},[t._v("Comments")])],1)])],1)],1):t._e()],1)})),e.userId===t.$store.state.userId?a("v-col",{staticClass:"pa-0"},[a("v-card",[a("v-app-bar",{attrs:{flat:"",color:"white"}},[a("v-avatar",{attrs:{size:"40"}},[a("img",{attrs:{src:t.singleUser.profilePicture?t.singleUser.profilePicture:t.profilePic,alt:"John"}})]),a("v-toolbar-title",{staticClass:"subtitle-1 pl-2"},[t._v(" "+t._s(t.singleUser.username)+" ")]),a("v-spacer"),a("v-menu",{attrs:{left:"",bottom:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:"",color:"black"}},"v-btn",n,!1),s),[a("v-icon",[t._v("mdi-dots-vertical")])],1)]}}],null,!0)},[a("v-list",t._l(t.menuList,(function(s){return a("v-list-item",{key:s.title,on:{click:function(a){return t.popUpDrawer(s,e._id)}}},[a("v-list-item-title",[t._v(" "+t._s(s.title))])],1)})),1)],1)],1),a("v-card-text",{staticClass:"py-0"},[t._v(t._s(e.desc))]),a("v-card-text",{staticClass:"pb-0"},[a("v-img",{attrs:{"max-height":"400",src:e.img}})],1),a("v-card-actions",[a("div",{staticClass:"text-center"},[a("v-btn",{staticClass:"mx-3",attrs:{fab:"",dark:"","x-small":"",color:"primary",elevation:"0"},on:{click:function(a){return t.likePost(e)}}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-thumb-up ")])],1),a("v-btn",{staticClass:"mr-3",attrs:{fab:"",dark:"","x-small":"",color:"red",elevation:"0"}},[a("v-icon",{attrs:{dark:""}},[t._v(" mdi-heart ")])],1),a("span",{},[t._v(t._s(e.likes.length)+" people like it")]),a("span",{staticClass:"ml-16"}),a("span",{staticClass:"ml-16"}),a("span",{staticClass:"ml-16 hidden-sm-and-down"},[t._v("Comments")])],1)])],1)],1):t._e()],2)})),1),a("v-overlay",{attrs:{value:t.uploadOverlay}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"100"}})],1),a("v-snackbar",{attrs:{timeout:"4000",top:"",center:"",shaped:"",color:t.snackbarColor?"green":"red darken-2"},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{text:"",outlined:"",fab:"","x-small":"",color:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",s,!1),[a("v-icon",[t._v("mdi-close ")])],1)]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackBarText)+" ")])],1)},j=[],O=a("5530"),L=a("2909"),B=(a("159b"),a("99af"),a("a434"),a("caad"),a("2532"),a("4de4"),a("bc3a")),E=a.n(B),F="cloudfisk",D="f6hwsyel",R="https://social-media-myk.herokuapp.com",A={name:"PostSection",components:{},data:function(){return{mediaAsset:null,previewDialog:!1,descriptionPost:"",files:[],isError:!1,errorText:null,fileUrl:"",uploadOverlay:!1,userId:localStorage.getItem("userId"),allPosts:[],singlePost:{},menuList:[{title:"Delete"}],filename:null,profilePic:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Unknown_person.jpg/925px-Unknown_person.jpg",singleUser:{},friendsList:[],allPostDetails:[],snackBarText:"",snackbar:!1,snackbarColor:null}},methods:{previewPost:function(){var t=this;E.a.post("".concat(R,"/api/posts/"),{userId:this.userId,desc:this.descriptionPost,img:this.fileUrl}).then((function(e){if(e.status>=200&&e.status<400){var a=e.data._id;t.getSinglePost(a),t.uploadOverlay=!1,t.previewDialog=!0}})).catch((function(t){return console.log(t)}))},continueToPost:function(t){this.allPosts.unshift(t),this.previewDialog=!1,this.filename=null,this.descriptionPost=""},closePreviewPost:function(t){this.deleteSinglePost(t),this.filename=null,this.descriptionPost="",this.previewDialog=!1},onAddFiles:function(t){var e=this;this.files=t,this.uploadOverlay=!0,this.files.length>0&&this.files.forEach((function(t){e.uploadFileToCloudinary(t).then((function(t){e.fileUrl=t.url,e.uploadOverlay=!1}))}))},uploadFileToCloudinary:function(t){return new Promise((function(e,a){var s="https://api.cloudinary.com/v1_1/".concat(F,"/upload"),n=D,i=new FormData;i.append("upload_preset",n),i.append("folder","social-media"),i.append("file",t);var r=new XMLHttpRequest;r.open("POST",s,!0),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.onreadystatechange=function(){if(4===r.readyState&&200===r.status){var t=JSON.parse(r.responseText);e(t)}if(200!==r.status){var s=JSON.parse(r.responseText),n=s.error.message;alert("error, status code not 200 "+n),a(n)}},r.onerror=function(t){alert("error: "+t),a(t)},r.send(i)}))},getAllPosts:function(){var t=this;E.a.get("".concat(R,"/api/posts/timeline/").concat(this.userId)).then((function(e){e.status>=200&&e.status<400&&(t.allPosts=Object(L["a"])(e.data),console.log(t.allPosts,"allPost at timeline"))})).catch((function(t){return console.log(t)}))},getSinglePost:function(t){var e=this;E.a.get("".concat(R,"/api/posts/find/").concat(t)).then((function(t){t.status>=200&&t.status<400&&(e.singlePost=Object(O["a"])({},t.data),console.log(e.singlePost))})).catch((function(t){return console.log(t)}))},deleteSinglePost:function(t){var e=this,a=Object(L["a"])(this.allPosts);E.a.delete("".concat(R,"/api/posts/").concat(t,"/").concat(this.userId)).then((function(s){s.status>=200&&s.status<400&&(a.forEach((function(e,a,s){t===e._id&&s.splice(a,1)})),e.allPosts=a,console.log("Post successfully deleted"))})).catch((function(t){var a=t.response.data;e.snackbar=!0,e.snackBarText="".concat(a)}))},popUpDrawer:function(t,e){"Delete"===t.title&&this.deleteSinglePost(e)},getSingleUser:function(){var t=this;E.a.get("".concat(R,"/api/users/find?userId=").concat(this.userId,"&username=").concat(this.username)).then((function(e){e.status>=200&&e.status<400&&(t.singleUser=Object(O["a"])({},e.data),console.log(t.singleUser,"singleUSER in timeline"))})).catch((function(t){return console.log(t)}))},likePost:function(t){var e=this;E.a.put("".concat(R,"/api/posts/").concat(t._id,"/like/").concat(this.userId)).then((function(a){a.status>=200&&a.status<400&&(e.allPosts.forEach((function(a){a._id===t._id&&(a.likes.includes(e.userId)?(a.likes.length--,a.likes=a.likes.filter((function(t){return t.userId!==e.userId}))):a.likes.push(e.userId))})),console.log(a.data))})).catch((function(t){var a=t.response.data;e.snackbar=!0,e.snackBarText="".concat(a)}))},getFriends:function(){var t=this;E.a.get("".concat(R,"/api/users/friends/").concat(this.userId)).then((function(e){e.status>=200&&e.status<400&&(t.friendsList=Object(L["a"])(e.data),console.log(t.friendsList,"friendlist"))})).catch((function(t){return console.log(t)}))}},mounted:function(){this.getAllPosts(),this.getSingleUser(),this.getFriends(),console.log(this.userId,"id")}},M=A,N=a("40dc"),$=a("8336"),z=a("99d9"),q=a("62ad"),J=a("a523"),H=a("169a"),X=a("23a7"),W=a("132d"),G=a("8860"),K=a("da13"),Q=a("5d23"),Y=a("e449"),Z=a("a797"),tt=a("490a"),et=a("0fd9"),at=a("2db4"),st=a("2fa4"),nt=a("a844"),it=a("2a7f"),rt=Object(c["a"])(M,V,j,!1,null,null,null),ot=rt.exports;u()(rt,{VAppBar:N["a"],VAvatar:x["a"],VBtn:$["a"],VCard:I["a"],VCardActions:z["a"],VCardText:z["b"],VCol:q["a"],VContainer:J["a"],VDialog:H["a"],VFileInput:X["a"],VIcon:W["a"],VImg:y["a"],VList:G["a"],VListItem:K["a"],VListItemTitle:Q["b"],VMenu:Y["a"],VOverlay:Z["a"],VProgressCircular:tt["a"],VRow:et["a"],VSnackbar:at["a"],VSpacer:st["a"],VTextarea:nt["a"],VToolbarTitle:it["a"]});var ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-16"},[a("v-app-bar",{attrs:{color:"blue-grey darken-2",flat:"",dense:"",dark:"",height:"65",fixed:""}},[a("v-app-bar-nav-icon",{directives:[{name:"show",rawName:"v-show",value:t.$vuetify.breakpoint.smAndDown,expression:"$vuetify.breakpoint.smAndDown"}],on:{click:function(e){t.mini=!t.mini}}}),a("v-toolbar-title",{staticClass:"cursor-pointer",on:{click:t.goToHome}},[t._v("Legend")]),a("v-spacer"),a("v-row",{staticClass:"ml-1"},[a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{ref:"users",attrs:{items:t.itemsItems,loading:t.isLoading,"search-input":t.search,color:"white","hide-no-data":"","hide-selected":"","item-text":"Username","item-value":"API",label:"Search by username",placeholder:"Start typing to Search","return-object":"","single-line":"","hide-details":"",rounded:"",outlined:"",dense:"","prepend-inner-icon":"mdi-magnify"},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e}},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1)],1),a("v-spacer"),a("v-btn",{staticClass:"mr-2 hidden-sm-and-down",attrs:{icon:""},on:{click:function(e){return t.goToMessenger()}}},[a("v-icon",[t._v("mdi-email-outline")])],1),a("v-btn",{staticClass:"mr-5 hidden-sm-and-down",attrs:{icon:""}},[a("v-icon",[t._v("mdi-heart-outline")])],1),a("v-menu",{attrs:{left:"",bottom:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",n,!1),s),[a("v-avatar",{attrs:{size:"40"}},[a("img",{attrs:{src:t.currentUserInStore.profilePicture?t.currentUserInStore.profilePicture:t.profileImage,alt:""}})]),a("v-icon",[t._v("mdi-menu-down")])],1)]}}])},[a("v-list",t._l(t.menuList,(function(e){return a("v-list-item",{key:e.title,on:{click:function(a){return t.popUpDrawer(e)}}},[a("v-list-item-title",[t._v(" "+t._s(e.title))])],1)})),1)],1)],1),a("v-navigation-drawer",{attrs:{clipped:"",app:"","mini-variant":t.mini,permanent:"",color:"blue-grey darken-2",dark:""},on:{"update:miniVariant":function(e){t.mini=e},"update:mini-variant":function(e){t.mini=e}},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list-item"),a("v-divider"),a("v-list",{attrs:{dense:""}},[t._l(t.items,(function(e){return a("v-list-item",{key:e.title,staticClass:"my-6",on:{click:function(a){return t.navigationDrawer(e)}}},[a("v-list-item-icon",[a("v-icon",[t._v(t._s(e.icon))])],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"subtitle-1"},[t._v(t._s(e.title))])],1)],1)})),a("v-list-item",[a("v-btn",{attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.mini=!t.mini}}},[a("v-icon",[t._v("mdi-chevron-right")])],1)],1)],2)],1)],1)},lt=[],ut=(a("d81d"),a("b64b"),a("fb6a"),a("852e")),dt=a("2f62"),vt=a("0e44");s["a"].use(dt["a"]);var pt=new dt["a"].Store({plugins:[Object(vt["a"])({storage:window.sessionStorage})],state:{authToken:null,currentUser:{},userId:localStorage.getItem("userId")},getters:{},mutations:{SET_CURRENT_USER_IN_STATE:function(t,e){t.currentUser=e},SET_IS_LOGGED_IN:function(t,e){t.authToken=e.accessToken},SET_USER_ID:function(t,e){t.userId=e._id},CLEAR_CURRENT_USER:function(t){t.currentUser=null,t.authToken=null,t.userId=null}},actions:{setCurrentUserInState:function(t,e){var a=t.commit;a("SET_CURRENT_USER_IN_STATE",e)},setIsLoggedIn:function(t,e){var a=t.commit;a("SET_IS_LOGGED_IN",e)},setUserId:function(t,e){var a=t.commit;a("SET_USER_ID",e)},clearCurrentUser:function(t){var e=t.commit;e("CLEAR_CURRENT_USER")}},modules:{}}),ft="authToken",mt="userId";function gt(t){ut["set"](ft,t)}function ht(t){ut["set"](mt,t)}function bt(){return ut["get"](ft)}function kt(){var t=pt.state.authToken;return!!t}function Ct(){pt.dispatch("clearCurrentUser"),sessionStorage.clear(),localStorage.clear(),_t(),xt()}function _t(){return ut["remove"](ft)}function xt(){return ut["remove"](mt)}var wt={name:"Navbar",components:{},data:function(){return{drawer:null,items:[{title:"Feed",icon:"mdi-home-outline",link:"/"},{title:"Message",icon:"mdi-email",link:"/messenger"},{title:"Profile",icon:"mdi-account",link:"profile/".concat(this.username,"/").concat(this.userId)},{title:"Logout",icon:"mdi-power",link:"/login"},{title:"Settings",icon:"mdi-cog-outline"},{title:"Notification",icon:"mdi-bell-outline"}],mini:this.drawerShow(),menuList:[{title:"Profile"},{title:"Log Out"}],username:localStorage.getItem("username"),userId:localStorage.getItem("userId"),singleUser:{},profileImage:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Unknown_person.jpg/925px-Unknown_person.jpg",users:[],usernameLimit:60,entries:[],isLoading:!1,model:null,search:null}},methods:{drawerShow:function(){this.$vuetify.breakpoint.md?this.mini=!0:this.$vuetify.breakpoint.sm?this.mini=!1:this.$vuetify.breakpoint.xs&&(this.mini=!0)},goToHome:function(){this.$router.push("/")},goToProfile:function(){this.$router.push("/profile/".concat(this.username,"/").concat(this.userId))},goToMessenger:function(){this.$router.push("/messenger"),location.reload()},popUpDrawer:function(t){"Log Out"===t.title?this.logOut():"Profile"===t.title&&(this.goToProfile(),location.reload())},navigationDrawer:function(t){"Feed"===t.title?this.goToHome():"Message"===t.title?(this.goToMessenger(),location.reload()):"Profile"===t.title?(this.goToProfile(),location.reload()):"Logout"===t.title?(this.logOut(),location.reload()):("Settings"===t.title||"Notification"===t.title)&&this.goToProfile()},logOut:function(){Ct(),localStorage.clear(),this.$router.push("/login")},getSingleUser:function(){var t=this;E.a.get("".concat(R,"/api/users/find?userId=").concat(this.userId,"&username=").concat(this.username)).then((function(e){e.status>=200&&e.status<400&&(t.singleUser=Object(O["a"])({},e.data))})).catch((function(t){return console.log(t)}))},goToSearchedUserProfile:function(){this.$router.push("/profile/".concat(this.fields[1].value,"/").concat(this.fields[0].value))}},computed:{currentUserInStore:function(){return this.$store.state.currentUser},fields:function(){var t=this;return this.model?Object.keys(this.model).map((function(e){return{key:e,value:t.model[e]||""}})):[]},itemsItems:function(){var t=this;return this.entries.map((function(e){var a=e.username.length>t.usernameLimit?e.username.slice(0,t.usernameLimit)+"...":e.username;return Object.assign({},e,{Username:a})}))}},watch:{search:function(){var t=this;this.itemsItems.length>0||this.isLoading||(this.isLoading=!0,E.a.get("".concat(R,"/api/users/")).then((function(e){t.entries=e.data})).catch((function(t){console.log(t)})).finally((function(){return t.isLoading=!1})))}},mounted:function(){this.drawerShow(),this.$watch("fields",(function(){console.log("a thing changed"),this.goToSearchedUserProfile()}),{deep:!0})}},It=wt,Pt=(a("837f"),a("5bc1")),yt=a("c6a6"),Ut=a("ce7e"),St=a("34c3"),Tt=a("f774"),Vt=Object(c["a"])(It,ct,lt,!1,null,"425fdd59",null),jt=Vt.exports;u()(Vt,{VAppBar:N["a"],VAppBarNavIcon:Pt["a"],VAutocomplete:yt["a"],VAvatar:x["a"],VBtn:$["a"],VCol:q["a"],VDivider:Ut["a"],VIcon:W["a"],VList:G["a"],VListItem:K["a"],VListItemContent:Q["a"],VListItemIcon:St["a"],VListItemTitle:Q["b"],VMenu:Y["a"],VNavigationDrawer:Tt["a"],VRow:et["a"],VSpacer:st["a"],VToolbarTitle:it["a"]});var Ot={name:"Home",components:{RightSidebar:T,PostSection:ot,Navbar:jt},data:function(){return{}},methods:{}},Lt=Ot,Bt=Object(c["a"])(Lt,g,h,!1,null,null,null),Et=Bt.exports;u()(Bt,{VCol:q["a"],VRow:et["a"]});var Ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"fill-height":""}},[a("v-row",[a("v-col",[a("v-card",{attrs:{flat:"",outlined:""}},[a("v-row",[a("v-col",{staticClass:"hidden-sm-and-down"},[a("v-img",{attrs:{src:t.loginImage,height:"600"}})],1),a("v-col",{attrs:{"align-self":"center"}},[a("v-card-text",[a("v-form",{ref:"loginForm",attrs:{"lazy-validation":""},model:{value:t.loginFormValid,callback:function(e){t.loginFormValid=e},expression:"loginFormValid"}},[a("v-card-text",[a("v-container",[a("v-card-text",{staticClass:"text-center pa-0 text-h6 mb-6"},[t._v(" Login with your credentials ")]),a("v-text-field",{attrs:{label:"E-mail Address",name:"email",rules:t.loginEmailRules,type:"email",color:"primary",required:"",placeholder:"Email"},model:{value:t.loginEmail,callback:function(e){t.loginEmail=e},expression:"loginEmail"}}),a("v-text-field",{attrs:{label:"Password",name:"password",rules:t.loginPasswordRules,"append-icon":t.loginPasswordShow?"mdi-eye":"mdi-eye-off",type:t.loginPasswordShow?"text":"password",color:"primary",required:"",placeholder:"Password"},on:{"click:append":function(e){t.loginPasswordShow=!t.loginPasswordShow}},model:{value:t.loginPassword,callback:function(e){t.loginPassword=e},expression:"loginPassword"}}),a("v-card-text",{staticClass:"text-right pr-0"},[a("span",{staticClass:"white primary--text reset"},[t._v("Forgot your PIN?")])]),a("v-btn",{attrs:{color:"primary darken-1",block:"",loading:t.loadingBtn,disabled:!t.loginFormValid},on:{click:t.login}},[t._v(" LOGIN ")]),a("v-col",{staticClass:"mt-3"},[a("span",[t._v("Not registered yet?")]),a("span",{staticClass:"ml-2 white primary--text cursor-pointer",on:{click:function(e){return t.goToRegister()}}},[t._v("Register here")])])],1)],1)],1)],1)],1)],1)],1)],1)],1),a("v-snackbar",{attrs:{timeout:"4000",top:"",center:"",shaped:"",color:t.snackbarColor?"green":"red darken-2"},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{text:"",outlined:"",fab:"","x-small":"",color:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",s,!1),[a("v-icon",[t._v("mdi-close ")])],1)]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackBarText)+" ")])],1)},Dt=[],Rt=(a("ac1f"),a("00b4"),{name:"Login",components:{},data:function(){return{drawer:!1,group:null,selectedItem:1,navigationItems:[{title:"login",icon:"login",text:"Login"},{title:"signUp",icon:"kodi",text:"Sign Up"},{title:"product",icon:"redhat",text:"Products"},{title:"about",icon:"poker-chip",text:"About"},{title:"about",icon:"cart",text:"Cart"}],credentialDialog:!1,loginEmail:"",loginPassword:"",loginPasswordShow:!1,signUpName:"",signUpEmail:"",signUpPassword:"",signUpPasswordShow:!1,message:"",loadingBtn:!1,loading:!1,loginFormValid:!0,signUpFormValid:!0,snackBarText:"",snackbar:!1,snackbarColor:null,nameRules:[function(t){return!!t||"Username is required"}],loginEmailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}],signUpEmailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}],loginPasswordRules:[function(t){return!!t||"Password is required"}],signUpPasswordRules:[function(t){return!!t||"Password is required"}],selectRules:[function(t){return!!t||"Select a payment option"}],messageRules:[function(t){return!!t||"Message is required"}],loginImage:a("25b7")}},methods:{goToRegister:function(){this.$router.push("/register")},login:function(){var t=this;E.a.post("".concat(R,"/api/auth/login"),{email:this.loginEmail,password:this.loginPassword}).then((function(e){e.status>=200&&e.status<400&&(gt(e.data.accessToken),ht(e.data._id),t.$store.dispatch("setCurrentUserInState",e.data),t.$store.dispatch("setIsLoggedIn",e.data),t.$store.dispatch("setUserId",e.data),localStorage.setItem("token",e.data.accessToken),localStorage.setItem("email",e.data.email),localStorage.setItem("username",e.data.username),localStorage.setItem("userId",e.data._id),t.snackbarColor=!0,t.snackbar=!0,t.$router.push("/"),location.reload())})).catch((function(e){var a=e.response.data;t.snackbar=!0,t.snackBarText="".concat(a)}))}}}),At=Rt,Mt=(a("aba6"),a("4bd4")),Nt=a("8654"),$t=Object(c["a"])(At,Ft,Dt,!1,null,"0eb39514",null),zt=$t.exports;u()($t,{VBtn:$["a"],VCard:I["a"],VCardText:z["b"],VCol:q["a"],VContainer:J["a"],VForm:Mt["a"],VIcon:W["a"],VImg:y["a"],VRow:et["a"],VSnackbar:at["a"],VTextField:Nt["a"]});var qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"fill-height":""}},[a("v-row",[a("v-col",[a("v-card",{attrs:{flat:"",outlined:""}},[a("v-row",[a("v-col",{staticClass:"hidden-sm-and-down"},[a("v-img",{attrs:{src:t.registerImage,height:"600"}})],1),a("v-col",{attrs:{"align-self":"center"}},[a("v-card-text",[a("v-form",{ref:"signUpForm",attrs:{"lazy-validation":""},model:{value:t.signUpFormValid,callback:function(e){t.signUpFormValid=e},expression:"signUpFormValid"}},[a("v-card-text",[a("v-container",[a("v-card-text",{staticClass:"text-center pa-0 text-h6 mb-4"},[t._v(" Create New Account ")]),a("v-text-field",{attrs:{label:"Username",name:"username",rules:t.nameRules,type:"text",color:"primary",required:"",placeholder:"Username"},model:{value:t.signUpName,callback:function(e){t.signUpName=e},expression:"signUpName"}}),a("v-text-field",{attrs:{label:"E-mail Address",name:"email",rules:t.signUpEmailRules,type:"email",color:"primary",required:"",placeholder:"Email"},model:{value:t.signUpEmail,callback:function(e){t.signUpEmail=e},expression:"signUpEmail"}}),a("v-text-field",{attrs:{label:"Password",name:"password",rules:t.signUpPasswordRules,"append-icon":t.signUpPasswordShow?"mdi-eye":"mdi-eye-off",type:t.signUpPasswordShow?"text":"password",color:"primary",required:"",placeholder:"Password"},on:{"click:append":function(e){t.signUpPasswordShow=!t.signUpPasswordShow}},model:{value:t.signUpPassword,callback:function(e){t.signUpPassword=e},expression:"signUpPassword"}}),a("v-btn",{attrs:{color:"primary darken-1",block:"",loading:t.loadingBtn,disabled:!t.loginFormValid},on:{click:t.register}},[t._v(" SIGN UP ")]),a("v-col",{staticClass:"mt-3"},[a("span",[t._v("Already have an Account?")]),a("span",{staticClass:"ml-2 white primary--text cursor-pointer",on:{click:function(e){return t.goToLogin()}}},[t._v("Login")])])],1)],1)],1)],1)],1)],1)],1)],1)],1),a("v-snackbar",{attrs:{timeout:"4000",top:"",center:"",shaped:"",color:t.snackbarColor?"green":"red darken-2"},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{text:"",outlined:"",fab:"","x-small":"",color:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",s,!1),[a("v-icon",[t._v("mdi-close ")])],1)]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackBarText)+" ")])],1)},Jt=[],Ht={name:"Register",components:{},data:function(){return{drawer:!1,group:null,selectedItem:1,navigationItems:[{title:"login",icon:"login",text:"Login"},{title:"signUp",icon:"kodi",text:"Sign Up"},{title:"product",icon:"redhat",text:"Products"},{title:"about",icon:"poker-chip",text:"About"},{title:"about",icon:"cart",text:"Cart"}],credentialDialog:!1,message:"",loadingBtn:!1,loading:!1,signUpFormValid:!0,loginFormValid:!0,upgradeValue:null,nameRules:[function(t){return!!t||"Username is required"}],selectRules:[function(t){return!!t||"Select a payment option"}],messageRules:[function(t){return!!t||"Message is required"}],registerImage:a("30fc"),signUpName:"",signUpEmail:"",signUpPassword:"",signUpPasswordShow:!1,signUpEmailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}],signUpPasswordRules:[function(t){return!!t||"Password is required"}],snackBarText:"",snackbar:!1,snackbarColor:null}},methods:{goToLogin:function(){this.$router.push("/login")},register:function(){var t=this;E.a.post("".concat(R,"/api/auth/register"),{username:this.signUpName,email:this.signUpEmail,password:this.signUpPassword}).then((function(e){e.status>=200&&e.status<400&&t.$router.push("/login")})).catch((function(e){var a=e.response.data;t.snackbar=!0,t.snackBarText="".concat(a)}))}}},Xt=Ht,Wt=(a("c8bb"),Object(c["a"])(Xt,qt,Jt,!1,null,"2ca3231e",null)),Gt=Wt.exports;u()(Wt,{VBtn:$["a"],VCard:I["a"],VCardText:z["b"],VCol:q["a"],VContainer:J["a"],VForm:Mt["a"],VIcon:W["a"],VImg:y["a"],VRow:et["a"],VSnackbar:at["a"],VTextField:Nt["a"]});var Kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("NavbarNew"),a("div",[a("div",{staticStyle:{position:"relative",left:"0",top:"0"}},[a("v-img",{staticClass:"main-img",attrs:{src:t.singleUser.coverPicture?t.singleUser.coverPicture:t.coverImage,height:"240"}}),a("div",{staticClass:"sub-icon"},[this.userId===this.currentUserId?a("v-btn",{attrs:{small:"",fab:""},on:{click:function(e){return t.editCoverPicture()}}},[a("v-icon",[t._v("mdi-camera")]),a("input",{ref:"uploaderCover",staticClass:"d-none",attrs:{type:"file"},on:{change:t.onFileChanged}})],1):t._e()],1)],1),a("div",[this.userId===this.currentUserId?a("div",{staticClass:"d-flex justify-center mt-n16"},[a("v-badge",{attrs:{bordered:"",right:"",bottom:"",color:"blue",icon:"mdi-camera","offset-x":"25","offset-y":"55"}},[a("v-avatar",{staticClass:"cursor-pointer",attrs:{color:"blue-grey darken-2",size:"178"}},[a("v-avatar",{attrs:{outlined:"",size:"170"}},[a("v-img",{staticClass:"cursor-pointer",attrs:{loading:t.isSelecting,src:t.singleUser.profilePicture?t.singleUser.profilePicture:t.profileImage},on:{click:t.editProfilePicture}})],1)],1)],1),a("input",{ref:"uploaderProfile",staticClass:"d-none",attrs:{type:"file"},on:{change:t.onFileChanged}})],1):a("div",{staticClass:"d-flex justify-center mt-n16"},[a("v-avatar",{staticClass:"outlined cursor-pointer",attrs:{color:"blue-grey darken-2",size:"180"}},[a("v-avatar",{attrs:{size:"170"}},[a("v-img",{attrs:{src:t.singleUser.profilePicture?t.singleUser.profilePicture:t.profileImage}})],1)],1)],1),a("div",{staticClass:"d-flex justify-center mt-4 title text-capitalize"},[t._v(" "+t._s(t.singleUser.username?t.singleUser.username:"Unknown")+" ")]),a("div",{staticClass:"d-flex justify-center"},[t._v(" "+t._s(t.singleUser.desc?t.singleUser.desc:"Unknown")+" ")])])]),a("v-row",[a("v-col",{attrs:{xs:"12",sm:"8",md:"7"}},[a("PostSectionProfile")],1),a("v-col",{attrs:{xs:"12",sm:"4",md:"5"}},[a("div",{staticClass:"pa-2"},[this.userId!==this.currentUserId?a("v-layout",[a("v-flex",{},[this.singleUser.followers&&this.singleUser.followers.includes(this.userId)?a("div",[a("v-btn",{staticClass:"pa-3 white--text text-capitalize",attrs:{color:"deep-purple lighten-2"},on:{click:t.unFollowUser}},[t._v("Unfollow "),a("v-icon",{attrs:{right:""}},[t._v("mdi-plus")])],1)],1):a("div",[a("v-btn",{staticClass:"pa-3 white--text text-capitalize",attrs:{color:"deep-purple lighten-2"},on:{click:t.followUser}},[t._v("Follow"),a("v-icon",{attrs:{right:""}},[t._v("mdi-plus")])],1)],1)]),a("v-flex",[a("div",[a("v-btn",{staticClass:"pa-3 white--text text-capitalize",attrs:{color:"deep-purple lighten-2"},on:{click:function(e){return t.startConversation()}}},[t._v("message"),a("v-icon",{attrs:{right:""}},[t._v("mdi-email")])],1)],1)])],1):t._e(),a("v-layout",{staticClass:"mt-5"},[a("v-flex",[a("span",{staticClass:"title mr-16"},[t._v("User Information")]),this.userId===this.currentUserId?a("span",[a("v-btn",{attrs:{text:"",fab:""},on:{click:function(e){return t.editUserInfo()}}},[a("v-icon",[t._v("mdi-pencil")])],1)],1):t._e(),a("div",[a("span",{staticClass:"mr-4"},[t._v("City :")]),a("span",{staticClass:"subtitle-1 grey--text"},[t._v(" "+t._s(t.singleUser.city?t.singleUser.city:"unknown")+" ")])]),a("div",[a("span",{staticClass:"mr-4"},[t._v("From :")]),a("span",{staticClass:"subtitle-1 grey--text"},[t._v(t._s(t.singleUser.from?t.singleUser.from:"unknown"))])]),a("div",[a("span",{staticClass:"mr-4"},[t._v("Relationship :")]),a("span",{staticClass:"subtitle-1 grey--text"},[t._v(t._s(t.singleUser.relationship?t.singleUser.relationship:"unknown"))])])])],1),a("v-layout",{staticClass:"mt-5"},[a("v-flex",[a("div",{staticClass:"title"},[t._v("User friends")]),this.friendsList.length>0?a("v-row",{staticClass:"p-2"},t._l(this.friendsList,(function(e){return a("v-col",{key:e._id,attrs:{cols:"4",xs:"12",sm:"6",md:"4"}},[a("v-card",{attrs:{height:"150"},on:{click:function(a){return t.goToFriendProfile(e.username,e._id)}}},[a("v-img",{attrs:{src:e.profilePicture?e.profilePicture:t.profileImage,alt:"John",height:"160"}})],1),a("div",{staticClass:"mt-2 font-weight-bold d-flex justify-center text-capitalize"},[t._v(" "+t._s(e.username?e.username:"unkwown")+" ")])],1)})),1):a("v-row",[a("v-col",[t._v(" No friends ")])],1)],1)],1)],1),a("div",{staticClass:"pa-2"},[a("v-layout",{staticClass:"mt-6"},[a("div",{staticClass:"title text-capitalize"},[t._v(" "+t._s(t.singleUser.username?t.singleUser.username:"Unknown")+" ")])]),a("v-layout",[a("v-flex",[a("v-layout",[a("div",{staticClass:"subtitle-2"},[t._v(" "+t._s(t.allPosts?t.allPosts.length:0)+" ")]),a("div",{staticClass:"subtitle-2 ml-1 grey--text"},[t._v("Posts")])])],1),a("v-flex",[a("v-layout",[a("div",{staticClass:"subtitle-2"},[t._v(" "+t._s(t.singleUser.followings?t.singleUser.followings.length:0)+" ")]),a("div",{staticClass:"subtitle-2 ml-1 grey--text"},[t._v("Followers")])])],1),a("v-flex",[a("v-layout",[a("div",{staticClass:"subtitle-2"},[t._v(" "+t._s(t.singleUser.followers?t.singleUser.followers.length:0)+" ")]),a("div",{staticClass:"subtitle-2 ml-1 grey--text"},[t._v("Followings")])])],1)],1),a("v-layout",{staticClass:"mt-4 subtitle-2 grey--text"},[t._v(" Uzir is a freelance developer based in Cedar Rapids IA, Always interested in learning about new Technologies and projects! "),a("br"),a("br"),t._v("Moved to the US 7 years ago for college and now working as a full time software developer and helping people reach their goals through entrepreneurship! ")]),a("v-layout",{staticClass:"mt-5"},[a("v-flex",[a("div",{staticClass:"subtitle-2"},[t._v("Locations")]),a("div",{staticClass:"subtitle-2 grey--text"},[t._v(" Based in Cedar Rapids, IA. ")])])],1),a("v-layout",{staticClass:"mt-5"},[a("v-flex",[a("div",{staticClass:"subtitle-2"},[t._v("Profession")]),a("div",{staticClass:"subtitle-2 grey--text"},[t._v("Developer")])])],1)],1)])],1),a("v-dialog",{attrs:{"max-width":"480"},model:{value:t.editUserInfoDialog,callback:function(e){t.editUserInfoDialog=e},expression:"editUserInfoDialog"}},[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-card-title",[t._v(" Edit Info "),a("v-spacer"),a("v-btn",{attrs:{color:"black",icon:""},on:{click:function(e){t.editUserInfoDialog=!1}}},[a("v-icon",[t._v("mdi-close")])],1)],1),a("v-divider"),a("v-form",{ref:"userInfoRef",attrs:{"lazy-validation":""}},[a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{staticClass:"pa-0"},[a("v-textarea",{attrs:{label:"Description",outlined:"",rows:"3",name:"description",placeholder:"Brief Description"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1),a("v-col",{staticClass:"pa-0",attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"City",name:"city",type:"text",color:"primary1",outlined:"",placeholder:"City"},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}})],1),a("v-col",{staticClass:"pa-0",attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"From",name:"from",type:"text",color:"primary1",outlined:"",placeholder:"From"},model:{value:t.from,callback:function(e){t.from=e},expression:"from"}})],1),a("v-col",{staticClass:"pa-0",attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Relationship",name:"relationship",type:"text",color:"primary1",outlined:"",placeholder:"Relationship"},model:{value:t.relationship,callback:function(e){t.relationship=e},expression:"relationship"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary darken-1",outlined:""},on:{click:t.updateUserInfo}},[t._v(" Save ")])],1)],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"750"},model:{value:t.previewProfileDialog,callback:function(e){t.previewProfileDialog=e},expression:"previewProfileDialog"}},[a("v-card",[a("v-app-bar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",{staticClass:"subtitle-1 pl-2"},[t._v(" Profile Image ")]),a("v-spacer"),a("v-btn",{attrs:{color:"black",icon:""},on:{click:t.deleteCloudinaryImage}},[a("v-icon",[t._v("mdi-close")])],1)],1),a("v-divider"),a("div",{staticClass:"backgroudUploadImage"},[a("v-card-text",{staticClass:"py-12 d-flex justify-center",attrs:{outlined:""}},[a("v-avatar",{staticClass:"outlined",attrs:{size:"180"}},[a("v-avatar",{attrs:{size:"170"}},[a("v-img",{attrs:{"max-height":"390",src:this.fileUrl}})],1)],1)],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary darken-1",outlined:""},on:{click:t.uploadProfileImage}},[t._v(" Save ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"980"},model:{value:t.previewCoverImageDialog,callback:function(e){t.previewCoverImageDialog=e},expression:"previewCoverImageDialog"}},[a("v-card",[a("v-app-bar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",{staticClass:"subtitle-1 pl-2"},[t._v(" Cover Image ")]),a("v-spacer"),a("v-btn",{attrs:{color:"black",icon:""},on:{click:t.deleteCloudinaryImage}},[a("v-icon",[t._v("mdi-close")])],1)],1),a("v-divider"),a("div",[a("v-card-text",{staticClass:"d-flex justify-center",attrs:{outlined:""}},[a("v-card",{attrs:{height:"300"}},[a("v-img",{attrs:{src:this.fileUrl,width:"880",height:"300"}})],1)],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary darken-1",outlined:""},on:{click:t.uploadCoverImage}},[t._v(" Save ")])],1)],1)],1),a("v-overlay",{attrs:{value:t.uploadOverlay}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"100"}})],1),a("v-snackbar",{attrs:{timeout:"4000",top:"",center:"",shaped:"",color:t.snackbarColor?"green":"red darken-2"},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{text:"",outlined:"",fab:"","x-small":"",color:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",s,!1),[a("v-icon",[t._v("mdi-close ")])],1)]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackBarText)+" ")])],1)},Qt=[],Yt=(a("a4d3"),a("e01a"),a("1276"),a("7db0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"pl-10"},[this.userId===this.currentUserId?a("v-row",{staticClass:"d-flex justify-center"},[a("v-col",{attrs:{cols:"12"}},[a("v-card",[a("v-card-text",{staticClass:"pb-0"},[a("v-row",[a("v-col",{staticClass:"pb-0"},[a("v-avatar",{attrs:{size:"40"}},[a("img",{attrs:{src:t.singleUser.profilePicture?t.singleUser.profilePicture:t.profilePic,alt:"John"}})]),a("v-textarea",{attrs:{"append-icon":"",name:"input-7-1",label:"What's on your mind ?",rows:"2"},model:{value:t.descriptionPost,callback:function(e){t.descriptionPost=e},expression:"descriptionPost"}})],1)],1)],1),a("v-card-actions",[a("v-file-input",{ref:"mediaAssetRef",attrs:{multiple:"",accept:"image/*","show-size":"",label:"Media Uploads"},on:{change:t.onAddFiles},model:{value:t.filename,callback:function(e){t.filename=e},expression:"filename"}}),a("v-spacer"),a("v-btn",{staticClass:"pa-3 white--text",attrs:{color:"deep-purple lighten-2"},on:{click:t.previewPost}},[t._v(" Share ")])],1)],1)],1)],1):t._e(),a("v-dialog",{attrs:{"max-width":"480"},model:{value:t.previewDialog,callback:function(e){t.previewDialog=e},expression:"previewDialog"}},[a("v-card",[a("v-app-bar",{attrs:{flat:"",color:"white"}},[a("v-avatar",{attrs:{size:"40"}},[a("img",{attrs:{src:t.singleUser.profilePicture?t.singleUser.profilePicture:t.profilePic,alt:"John"}})]),a("v-toolbar-title",{staticClass:"subtitle-1 pl-2"},[t._v(" "+t._s(t.username)+" ")]),a("v-spacer"),a("v-btn",{attrs:{color:"black",icon:""},on:{click:function(e){return t.closePreviewPost(t.singlePost._id)}}},[a("v-icon",[t._v("mdi-close")])],1)],1),a("v-card-text",{staticClass:"py-0"},[t._v(t._s(t.singlePost.desc))]),a("v-card-text",{staticClass:"pb-2"},[a("v-img",{attrs:{"max-height":"390",src:t.singlePost.img}})],1),a("v-card-actions",[a("div",{staticClass:"text-center"},[a("v-btn",{staticClass:"mx-3",attrs:{fab:"",dark:"","x-small":"",color:"primary",elevation:"0"}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-thumb-up ")])],1),a("v-btn",{staticClass:"mr-3",attrs:{fab:"",dark:"","x-small":"",color:"red",elevation:"0"}},[a("v-icon",{attrs:{dark:""}},[t._v(" mdi-heart ")])],1),a("span",{},[t._v("0 people like it")]),a("span",{staticClass:"mx-16"}),a("span",[a("v-btn",{staticClass:"pa-3 white--text",attrs:{outlined:"",color:"deep-purple"},on:{click:function(e){return t.continueToPost(t.singlePost)}}},[t._v(" continue ")])],1)],1)])],1)],1),this.allPosts.length>0?a("v-row",{staticClass:"d-flex justify-center"},t._l(this.allPosts,(function(e){return a("v-col",{key:e._id,staticClass:"py-6",attrs:{cols:"12"}},[a("v-card",[a("v-app-bar",{attrs:{flat:"",color:"white"}},[a("v-avatar",{attrs:{size:"40"}},[a("img",{attrs:{src:t.singleUser.profilePicture?t.singleUser.profilePicture:t.profilePic,alt:"John"}})]),a("v-toolbar-title",{staticClass:"subtitle-1 pl-2"},[t._v(" "+t._s(t.username)+" ")]),a("v-spacer"),a("v-menu",{attrs:{left:"",bottom:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:"",color:"black"}},"v-btn",n,!1),s),[a("v-icon",[t._v("mdi-dots-vertical")])],1)]}}],null,!0)},[a("v-list",t._l(t.menuList,(function(s){return a("v-list-item",{key:s.title,on:{click:function(a){return t.popUpDrawer(s,e._id)}}},[a("v-list-item-title",[t._v(" "+t._s(s.title))])],1)})),1)],1)],1),a("v-card-text",{staticClass:"py-0"},[t._v(t._s(e.desc))]),a("v-card-text",{staticClass:"pb-0"},[e.img?a("div",[a("v-img",{staticClass:"grey lighten-2",attrs:{src:e.img?e.img:"","lazy-src":e.img?e.img:"","aspect-ratio":"1.3"},scopedSlots:t._u([{key:"placeholder",fn:function(){return[a("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[a("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}],null,!0)})],1):a("div",[a("v-img",{attrs:{"max-height":"400",src:e.img}})],1)]),a("v-card-actions",[a("div",{staticClass:"text-center"},[a("v-btn",{staticClass:"mx-3",attrs:{fab:"",dark:"","x-small":"",color:"primary",elevation:"0"}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-thumb-up ")])],1),a("v-btn",{staticClass:"mr-3",attrs:{fab:"",dark:"","x-small":"",color:"red",elevation:"0"}},[a("v-icon",{attrs:{dark:""}},[t._v(" mdi-heart ")])],1),a("span",{},[t._v(t._s(e.likes.length)+" people like it")]),a("span",{}),a("span",{}),a("span",{staticClass:"ml-16 hidden-sm-and-down"},[t._v("Comments")])],1)])],1)],1)})),1):a("v-row",[a("v-col",[a("v-card",[a("v-card-text",{staticClass:"title"},[t._v("Nothing has been posted")])],1)],1)],1),a("v-overlay",{attrs:{value:t.uploadOverlay}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"100"}})],1),a("v-snackbar",{attrs:{timeout:"4000",top:"",center:"",shaped:"",color:t.snackbarColor?"green":"red darken-2"},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{text:"",outlined:"",fab:"","x-small":"",color:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",s,!1),[a("v-icon",[t._v("mdi-close ")])],1)]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackBarText)+" ")])],1)}),Zt=[],te={name:"PostSection",components:{},data:function(){return{mediaAsset:null,previewDialog:!1,descriptionPost:"",files:[],isError:!1,errorText:null,fileUrl:"",uploadOverlay:!1,userId:localStorage.getItem("userId"),allPosts:[],singlePost:{},menuList:[{title:"Delete"}],filename:null,username:this.$route.params.username,currentUserId:this.$route.params.id,singleUser:{},coverPicture:"",profilePic:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Unknown_person.jpg/925px-Unknown_person.jpg",friendsList:[],snackBarText:"",snackbar:!1,snackbarColor:null}},methods:{previewPost:function(){var t=this;E.a.post("".concat(R,"/api/posts/"),{userId:this.userId,desc:this.descriptionPost,img:this.fileUrl}).then((function(e){if(e.status>=200&&e.status<400){var a=e.data._id;t.getSinglePost(a),t.uploadOverlay=!1,t.previewDialog=!0}})).catch((function(t){return console.log(t)}))},continueToPost:function(t){this.allPosts.unshift(t),this.previewDialog=!1,this.filename=null,this.descriptionPost=""},closePreviewPost:function(t){this.deleteSinglePost(t),this.filename=null,this.descriptionPost="",this.previewDialog=!1},onAddFiles:function(t){var e=this;this.files=t,this.uploadOverlay=!0,this.files.length>0&&this.files.forEach((function(t){e.uploadFileToCloudinary(t).then((function(t){e.fileUrl=t.url,e.uploadOverlay=!1}))}))},uploadFileToCloudinary:function(t){return new Promise((function(e,a){var s="https://api.cloudinary.com/v1_1/".concat(F,"/upload"),n=D,i=new FormData;i.append("upload_preset",n),i.append("folder","social-media"),i.append("file",t);var r=new XMLHttpRequest;r.open("POST",s,!0),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.onreadystatechange=function(){if(4===r.readyState&&200===r.status){var t=JSON.parse(r.responseText);e(t)}if(200!==r.status){var s=JSON.parse(r.responseText),n=s.error.message;alert("error, status code not 200 "+n),a(n)}},r.onerror=function(t){alert("error: "+t),a(t)},r.send(i)}))},getAllPosts:function(){var t=this;E.a.get("".concat(R,"/api/posts/profile/").concat(this.username,"/").concat(this.currentUserId)).then((function(e){e.status>=200&&e.status<400&&(t.allPosts=Object(L["a"])(e.data))})).catch((function(t){return console.log(t)}))},getSinglePost:function(t){var e=this;E.a.get("".concat(R,"/api/posts/find/").concat(t)).then((function(t){t.status>=200&&t.status<400&&(e.singlePost=Object(O["a"])({},t.data))})).catch((function(t){return console.log(t)}))},deleteSinglePost:function(t){var e=this,a=Object(L["a"])(this.allPosts);E.a.delete("".concat(R,"/api/posts/").concat(t,"/").concat(this.userId)).then((function(s){s.status>=200&&s.status<400&&(a.forEach((function(e,a,s){t===e._id&&s.splice(a,1)})),e.allPosts=a,console.log("Post successfully deleted"))})).catch((function(t){var a=t.response.data;e.snackbar=!0,e.snackBarText="".concat(a)}))},popUpDrawer:function(t,e){"Delete"===t.title&&this.deleteSinglePost(e)},getSingleUser:function(){var t=this;E.a.get("".concat(R,"/api/users/find?username=").concat(this.username)).then((function(e){e.status>=200&&e.status<400&&(t.singleUser=Object(O["a"])({},e.data),console.log(t.singleUser))})).catch((function(t){return console.log(t)}))},getFriends:function(){var t=this;E.a.get("".concat(R,"/api/users/friends/").concat(this.userId)).then((function(e){e.status>=200&&e.status<400&&(t.friendsList=Object(L["a"])(e.data),console.log(t.friendsList))})).catch((function(t){return console.log(t)}))}},mounted:function(){this.getAllPosts(),this.getSingleUser(),this.getFriends()}},ee=te,ae=Object(c["a"])(ee,Yt,Zt,!1,null,null,null),se=ae.exports;u()(ae,{VAppBar:N["a"],VAvatar:x["a"],VBtn:$["a"],VCard:I["a"],VCardActions:z["a"],VCardText:z["b"],VCol:q["a"],VContainer:J["a"],VDialog:H["a"],VFileInput:X["a"],VIcon:W["a"],VImg:y["a"],VList:G["a"],VListItem:K["a"],VListItemTitle:Q["b"],VMenu:Y["a"],VOverlay:Z["a"],VProgressCircular:tt["a"],VRow:et["a"],VSnackbar:at["a"],VSpacer:st["a"],VTextarea:nt["a"],VToolbarTitle:it["a"]});var ne={name:"ProfilePage",components:{PostSectionProfile:se,NavbarNew:jt},data:function(){return{singleUser:null,userId:localStorage.getItem("userId"),username:this.$route.params.username,currentUserId:this.$route.params.id,coverImage:a("25b7"),profileImage:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Unknown_person.jpg/925px-Unknown_person.jpg",friendsList:[],currentConversationBoolean:!1,receiverId:"",messages:[],currentConversationId:"",conversations:[],currentConversation:[],allPosts:[],editUserInfoDialog:!1,description:"",city:"",from:"",relationship:"",isSelecting:!1,selectedFile:null,fileUrl:"",uploadOverlay:!1,previewProfileDialog:!1,previewCoverImageDialog:!1,editProfilePicBoolean:!1,editCoverPicBoolean:!1,snackBarText:"",snackbar:!1,snackbarColor:null}},methods:{getSingleUser:function(){var t=this;E.a.get("".concat(R,"/api/users/find?username=").concat(this.username)).then((function(e){e.status>=200&&e.status<400&&(t.singleUser=Object(O["a"])({},e.data))})).catch((function(t){return console.log(t)}))},getFriends:function(){var t=this;E.a.get("".concat(R,"/api/users/friends/").concat(this.userId===this.currentUserId?this.userId:this.currentUserId)).then((function(e){e.status>=200&&e.status<400&&(t.friendsList=Object(L["a"])(e.data))})).catch((function(t){return console.log(t)}))},goToFriendProfile:function(t,e){this.$router.push("/profile/".concat(t,"/").concat(e)),location.reload()},followUser:function(){var t=this;E.a.put("".concat(R,"/api/users/").concat(this.currentUserId,"/follow"),{userId:this.userId}).then((function(e){t.snackBarText=e.data,t.snackbar=!0,t.snackbarColor=!0,location.reload()})).catch((function(e){var a=e.response.data;t.snackbar=!0,t.snackBarText="".concat(a)}))},unFollowUser:function(){var t=this;E.a.put("".concat(R,"/api/users/").concat(this.currentUserId,"/unfollow"),{userId:this.userId}).then((function(e){t.snackBarText=e.data,t.snackbar=!0,t.snackbarColor=!0,location.reload()})).catch((function(e){var a=e.response.data;t.snackbar=!0,t.snackBarText="".concat(a)}))},getAllPosts:function(){var t=this;E.a.get("".concat(R,"/api/posts/profile/").concat(this.username,"/").concat(this.currentUserId)).then((function(e){e.status>=200&&e.status<400&&(t.allPosts=Object(L["a"])(e.data),console.log(t.allPosts.length))})).catch((function(t){return console.log(t)}))},editUserInfo:function(){this.editUserInfoDialog=!0,this.description=this.singleUser.desc,this.city=this.singleUser.city,this.from=this.singleUser.from,this.relationship=this.singleUser.relationship},updateUserInfo:function(){var t=this;E.a.put("".concat(R,"/api/users/").concat(this.userId),{userId:this.userId,desc:this.description,city:this.city,from:this.from,relationship:this.relationship}).then((function(e){t.editUserInfoDialog=!1,t.snackBarText=e.data,t.snackbar=!0,t.snackbarColor=!0,location.reload(),console.log(e.data)})).catch((function(e){var a=e.response.data;t.snackbar=!0,t.snackBarText="".concat(a)}))},handleFileImportProfile:function(){var t=this;this.isSelecting=!0,window.addEventListener("focus",(function(){t.isSelecting=!1}),{once:!0}),this.$refs.uploaderProfile.click()},handleFileImportCover:function(){var t=this;this.isSelecting=!0,window.addEventListener("focus",(function(){t.isSelecting=!1}),{once:!0}),this.$refs.uploaderCover.click()},onFileChanged:function(t){var e=this;this.selectedFile=t.target.files[0],this.uploadOverlay=!0,this.uploadFileToCloudinary(this.selectedFile).then((function(t){e.fileUrl=t.url,e.uploadOverlay=!1,e.editProfilePicBoolean?e.previewProfileDialog=!0:e.editCoverPicBoolean&&(e.previewCoverImageDialog=!0)}))},uploadFileToCloudinary:function(t){return new Promise((function(e,a){var s="https://api.cloudinary.com/v1_1/".concat(F,"/upload"),n=D,i=new FormData;i.append("upload_preset",n),i.append("folder","social-media"),i.append("file",t);var r=new XMLHttpRequest;r.open("POST",s,!0),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.onreadystatechange=function(){if(4===r.readyState&&200===r.status){var t=JSON.parse(r.responseText);e(t)}if(200!==r.status){var s=JSON.parse(r.responseText),n=s.error.message;alert("error, status code not 200 "+n),a(n)}},r.onerror=function(t){alert("error: "+t),a(t)},r.send(i)}))},editProfilePicture:function(){this.editProfilePicBoolean=!0,this.handleFileImportProfile()},editCoverPicture:function(){this.editCoverPicBoolean=!0,this.handleFileImportCover()},uploadProfileImage:function(){var t=this;E.a.put("".concat(R,"/api/users/").concat(this.userId),{userId:this.userId,profilePicture:this.fileUrl}).then((function(e){t.previewProfileDialog=!1,t.editProfilePicBoolean=!1,t.snackBarText=e.data,t.snackbar=!0,t.snackbarColor=!0,location.reload(),console.log(e.data)})).catch((function(e){var a=e.response.data;t.snackbar=!0,t.snackBarText="".concat(a)}))},uploadCoverImage:function(){var t=this;E.a.put("".concat(R,"/api/users/").concat(this.userId),{userId:this.userId,coverPicture:this.fileUrl}).then((function(e){t.previewCoverImageDialog=!1,t.editCoverPicBoolean=!1,t.snackBarText=e.data,t.snackbar=!0,t.snackbarColor=!0,location.reload(),console.log(e.data)})).catch((function(e){var a=e.response.data;t.snackbar=!0,t.snackBarText="".concat(a)}))},deleteCloudinaryImage:function(){var t=this;this.editCoverPicBoolean=!1,this.editProfilePicBoolean=!1;var e=this.fileUrl.split("/").slice(-1)[0].split(".")[0];E.a.delete("".concat(R,"/api/posts/").concat(this.userId,"/").concat(e,"/remove")).then((function(e){t.previewProfileDialog=!1,t.previewCoverImageDialog=!1,location.reload(),console.log(e.data)})).catch((function(e){var a=e.response.data;t.snackbar=!0,t.snackBarText="".concat(a)}))},getConversation:function(t){var e=this;this.currentConversationBoolean=!0,this.receiverId=t;var a=[];E.a.get("".concat(R,"/api/conversations/").concat(t)).then((function(t){a=Object(L["a"])(t.data),console.log(t.data,"conversations"),e.messages=[],a.forEach((function(t){e.getMessages(t._id)}))})).catch((function(t){var a=t.response.data;e.snackbar=!0,e.snackBarText="".concat(a)}))},getMessages:function(t){var e=this;this.currentConversationId=t,this.currentConversation=this.conversations.find((function(t){return t._id===e.currentConversationId})),console.log(this.currentConversation,"current-conversations"),E.a.get("".concat(R,"/api/messages/").concat(t)).then((function(t){e.messages.push(t.data)})).catch((function(t){var a=t.response.data;e.snackbar=!0,e.snackBarText="".concat(a)}))},createConversation:function(){var t=this;E.a.post("".concat(R,"/api/conversations/"),{senderId:this.userId,receiverId:this.currentUserId}).then((function(e){t.currentConversation=e.data,t.currentConversationBoolean=!0,t.receiverId=t.currentUserId;var a=[];E.a.get("".concat(R,"/api/conversations/").concat(t.receiverId)).then((function(e){a=Object(L["a"])(e.data),t.messages=[],a.forEach((function(e){t.getMessages(e._id),t.$router.push("/messenger")}))})).catch((function(t){return console.log(t)}))})).catch((function(e){var a=e.response.data;t.snackbar=!0,t.snackBarText="".concat(a)}))},startConversation:function(){this.createConversation()}},mounted:function(){this.getSingleUser(),this.getFriends(),this.getAllPosts()}},ie=ne,re=(a("6002"),Object(c["a"])(ie,Kt,Qt,!1,null,"083ad496",null)),oe=re.exports;u()(re,{VAppBar:N["a"],VAvatar:x["a"],VBadge:w["a"],VBtn:$["a"],VCard:I["a"],VCardActions:z["a"],VCardText:z["b"],VCardTitle:z["c"],VCol:q["a"],VContainer:J["a"],VDialog:H["a"],VDivider:Ut["a"],VFlex:P["a"],VForm:Mt["a"],VIcon:W["a"],VImg:y["a"],VLayout:U["a"],VOverlay:Z["a"],VProgressCircular:tt["a"],VRow:et["a"],VSnackbar:at["a"],VSpacer:st["a"],VTextField:Nt["a"],VTextarea:nt["a"],VToolbarTitle:it["a"]});var ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Navbar"),a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{md:"3",sm:"4",cols:"12"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{ref:"users",attrs:{items:t.itemsItems,loading:t.isLoading,"search-input":t.search,color:"blue-grey darken-2","hide-no-data":"","hide-selected":"","item-text":"Username","item-value":"API",label:"Search by username",placeholder:"Start typing to Search","return-object":"","single-line":"","hide-details":"",rounded:"",outlined:"",dense:"","prepend-inner-icon":"mdi-magnify"},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e}},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("div",{staticClass:"title pl-2"},[t._v("Chat List")])]),a("v-col",{staticClass:"pa-3"},t._l(this.userChatPartners,(function(e,s){return a("v-hover",{key:s,scopedSlots:t._u([{key:"default",fn:function(s){var n=s.hover;return[a("v-col",{staticClass:"pa-0"},[a("v-card",{staticClass:"ma-2 pa-1",attrs:{outlined:"",elevation:n?2:0}},[a("div",{staticClass:"py-3"},[a("v-row",[a("v-col",{staticClass:"cursor-pointer",attrs:{cols:"8"},on:{click:function(a){return t.getConversation(e._id)}}},[a("span",[a("v-avatar",{attrs:{size:"50"}},[a("v-img",{attrs:{src:e.profilePicture?e.profilePicture:t.profileImage}})],1)],1),a("span",{staticClass:"subtitle-1 ml-2",attrs:{"align-self":"center"}},[t._v(t._s(e.username)+" ")])]),a("v-col",{attrs:{cols:"4"}},[n?a("v-btn",{attrs:{outlined:"",small:"",color:"black",text:"",fab:""},on:{click:function(a){return t.deleteConversation(e._id)}}},[a("v-icon",[t._v("mdi-close")])],1):t._e()],1)],1)],1)])],1)]}}],null,!0)})})),1)],1)],1),a("v-col",{attrs:{md:"6",sm:"8",cols:"12"}},[a("v-row",[a("v-col",[this.currentConversationBoolean?a("v-card",{attrs:{outlined:""}},[a("div",{staticClass:"chatBox",attrs:{id:"chatBoxId"}},[a("div",{staticClass:"chatBoxWrapper"},[a("div",{staticClass:"chatBoxTop",attrs:{id:"chatBoxTopId"}},t._l(this.messages,(function(e,s){return a("v-col",{key:s},t._l(e,(function(e,s){return a("v-col",{key:s},[a("Message",{attrs:{own:e.sender===t.userId,message:e}})],1)})),1)})),1),a("div",{staticClass:"chatBoxBottom"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.userInputText,expression:"userInputText"}],staticClass:"chatMessageInput",attrs:{name:"",outlined:"",placeholder:"Write something.."},domProps:{value:t.userInputText},on:{input:function(e){e.target.composing||(t.userInputText=e.target.value)}}}),a("button",{staticClass:"chatSubmitButton",on:{click:t.handleSubmit}},[t._v(" Send ")])])])])]):a("v-col",[a("div",{staticClass:"display-2 pa-8"},[t._v(" Open a conversation to start a chat ")])])],1)],1)],1),a("v-col",{attrs:{md:"3",sm:"12",cols:"12"}},[a("div",{staticClass:"title"},[t._v("Online Friends")]),this.onlineFriends.length>0?a("v-col",{staticClass:"pa-0 mt-7"},t._l(this.onlineFriends,(function(e,s){return a("v-row",{key:s},[a("v-col",[a("div",{attrs:{cols:"12"}},[a("span",{staticClass:"mr-4",on:{click:function(a){return t.handleOnlineClick(e)}}},[a("v-badge",{attrs:{bordered:"",right:"",color:"green","offset-x":"15","offset-y":"15"}},[a("v-avatar",{attrs:{size:"50"}},[a("v-img",{attrs:{src:e.profilePicture?e.profilePicture:t.profilePic,alt:"John"}})],1)],1)],1),a("span",{staticClass:"subtitle-1"},[t._v(t._s(e.username))])])])],1)})),1):a("v-col",[a("div",[t._v("No friends online")])])],1)],1)],1),a("v-snackbar",{attrs:{timeout:"4000",top:"",center:"",shaped:"",color:t.snackbarColor?"green":"red darken-2"},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{text:"",outlined:"",fab:"","x-small":"",color:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",s,!1),[a("v-icon",[t._v("mdi-close ")])],1)]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackBarText)+" ")])],1)},le=[],ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{class:this.own?"message own":"message"},[a("div",{staticClass:"messageTop"},[a("img",{staticClass:"messageImg",attrs:{src:t.profileImage,alt:""}}),a("p",{staticClass:"messageText"},[t._v(" "+t._s(t.message.text)+" ")])]),a("div",{staticClass:"messageBottom"},[t._v(t._s(this.formattedTime))])])])},de=[],ve=a("c72b"),pe={name:"Message",props:["own","message"],components:{},data:function(){return{formattedTime:"",profileImage:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Unknown_person.jpg/925px-Unknown_person.jpg"}},methods:{formatTime:function(){this.formattedTime=Object(ve["a"])(this.message.createdAt)}},mounted:function(){this.formatTime()}},fe=pe,me=(a("1cb6"),Object(c["a"])(fe,ue,de,!1,null,"35b0fb0a",null)),ge=me.exports,he=a("daa8"),be={name:"Messenger",components:{Navbar:jt,Message:ge},data:function(){return{searchTerm:"",own:!0,userId:localStorage.getItem("userId"),conversations:[],userChatPartners:[],profileImage:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Unknown_person.jpg/925px-Unknown_person.jpg",currentConversationBoolean:!1,currentConversation:null,messages:[],userInputText:"",currentConversationId:"",socket:null,arrivalMessage:null,onlineUsers:[],friendsList:[],onlineFriends:[],profilePic:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Unknown_person.jpg/925px-Unknown_person.jpg",receiverId:"",users:["Afghanistan","Albani"],usernameLimit:60,entries:[],isLoading:!1,model:null,search:null,snackBarText:"",snackbar:!1,snackbarColor:null}},methods:{getConversations:function(){var t=this;E.a.get("".concat(R,"/api/conversations/").concat(this.userId)).then((function(e){t.conversations=Object(L["a"])(e.data),console.log(t.conversations,"---------convo"),t.getUserChatFriends()})).catch((function(t){return console.log(t)}))},getUserChatFriends:function(){var t=this,e=[];this.conversations.forEach((function(a){var s=a.members.find((function(e){return e!==t.userId}));e.push(s)})),e.forEach((function(e){E.a.get("".concat(R,"/api/users/find?userId=").concat(e)).then((function(e){t.userChatPartners.push(e.data)})).catch((function(t){return console.log(t)}))}))},getConversation:function(t){var e=this;this.currentConversationBoolean=!0,this.receiverId=t;var a=[];E.a.get("".concat(R,"/api/conversations/").concat(t)).then((function(s){a=Object(L["a"])(s.data),console.log(s.data,"conversations",t,"partnerId"),e.messages=[],a.forEach((function(t){e.getMessages(t._id)}))})).catch((function(t){return console.log(t)}))},getMessages:function(t){var e=this;this.currentConversationId=t,this.currentConversation=this.conversations.find((function(t){return t._id===e.currentConversationId})),console.log(this.currentConversation,"current-conversations"),E.a.get("".concat(R,"/api/messages/").concat(t)).then((function(t){e.messages.push(t.data),e.scrollToLastMessage()})).catch((function(t){return console.log(t)}))},handleSubmit:function(){var t=this,e={sender:this.userId,text:this.userInputText,conversationId:this.currentConversationId};this.socket.emit("sendMessage",{senderId:this.userId,receiverId:this.receiverId,text:this.userInputText}),E.a.post("".concat(R,"/api/messages/"),e).then((function(e){t.messages=[].concat(Object(L["a"])(t.messages),[e.data]),t.messages=[],t.getMessages(t.currentConversationId),t.userInputText=""})).catch((function(t){return console.log(t)}))},scrollToLastMessage:function(){var t=document.getElementById("chatBoxId");console.log(t.scrollTop,"top"),console.log(t.scrollHeight,"height"),t.scrollTop+=t.scrollHeight,t.scrollIntoView(!0),console.log(t.scrollTop,"height after")},setSocket:function(){this.socket=Object(he["a"])("ws://localhost:8900")},getMessagesFromSocket:function(){var t=this;this.socket.on("getMessage",(function(e){t.arrivalMessage={sender:e.senderId,text:e.text,createdAt:Date.now()}})),console.log(this.arrivalMessage,"arrivalMessage")},sendMessageToServer:function(){var t=this;this.socket.emit("addUser",this.userId),this.socket.on("getUsers",(function(e){t.onlineUsers=Object(L["a"])(e),console.log(e,"users-----")}))},addingArrivalMessage:function(){var t;this.arrivalMessage&&null!==(t=this.currentConversation)&&void 0!==t&&t.members.includes(this.arrivalMessage.sender)&&(this.messages=[].concat(Object(L["a"])(this.messages),[this.arrivalMessage]))},getFriends:function(){var t=this;E.a.get("".concat(R,"/api/users/friends/").concat(this.userId)).then((function(e){e.status>=200&&e.status<400&&(t.friendsList=Object(L["a"])(e.data),t.setOnlineFriends())})).catch((function(t){return console.log(t)}))},setOnlineFriends:function(){var t=[];this.onlineUsers.forEach((function(e){t.push(e.userId)})),this.onlineFriends=this.friendsList.filter((function(e){return t.includes(e._id)}))},handleOnlineClick:function(t){var e=this;E.a.get("".concat(R,"/api/conversations/find/").concat(this.userId,"/").concat(t._id)).then((function(t){var a=t.data;e.currentConversationBoolean=!0,e.messages=[],e.getMessages(a._id)})).catch((function(t){return console.log(t)}))},createConversation:function(){var t=this;E.a.post("".concat(R,"/api/conversations/"),{senderId:this.userId,receiverId:this.fields[0].value}).then((function(e){t.currentConversation=e.data,t.currentConversationBoolean=!0,t.receiverId=t.fields[0].value;var a=[];E.a.get("".concat(R,"/api/conversations/").concat(t.receiverId)).then((function(e){a=Object(L["a"])(e.data),t.messages=[],a.forEach((function(e){t.getMessages(e._id)}))})).catch((function(t){return console.log(t)}))})).catch((function(t){return console.log(t)}))},startConversation:function(){this.createConversation()},deleteConversation:function(t){var e=this;E.a.get("".concat(R,"/api/conversations/find/").concat(this.userId,"/").concat(t)).then((function(a){var s=a.data,n=Object(L["a"])(e.userChatPartners);E.a.delete("".concat(R,"/api/conversations/").concat(e.userId,"/").concat(t,"/").concat(s._id)).then((function(a){a.status>=200&&a.status<400&&(n.forEach((function(e,a,s){e._id===t&&s.splice(a,1)})),e.userChatPartners=n,e.currentConversationBoolean=!1,e.snackBarText=a.data,e.snackbar=!0,e.snackbarColor=!0)})).catch((function(t){var a=t.response.data;e.snackbar=!0,e.snackBarText="".concat(a)}))})).catch((function(t){return console.log(t)}))}},computed:{fields:function(){var t=this;return this.model?Object.keys(this.model).map((function(e){return{key:e,value:t.model[e]||""}})):[]},itemsItems:function(){var t=this;return this.entries.map((function(e){var a=e.username.length>t.usernameLimit?e.username.slice(0,t.usernameLimit)+"...":e.username;return Object.assign({},e,{Username:a})}))}},watch:{search:function(){var t=this;this.itemsItems.length>0||this.isLoading||(this.isLoading=!0,E.a.get("".concat(R,"/api/users/")).then((function(e){t.entries=e.data})).catch((function(t){console.log(t)})).finally((function(){return t.isLoading=!1})))}},mounted:function(){this.getConversations(),this.setSocket(),this.getMessagesFromSocket(),this.sendMessageToServer(),this.getFriends(),this.$watch("fields",(function(){console.log("a thing changed"),this.startConversation()}),{deep:!0})}},ke=be,Ce=(a("03ad"),a("ce87")),_e=Object(c["a"])(ke,ce,le,!1,null,"d08b5f92",null),xe=_e.exports;u()(_e,{VAutocomplete:yt["a"],VAvatar:x["a"],VBadge:w["a"],VBtn:$["a"],VCard:I["a"],VCol:q["a"],VContainer:J["a"],VHover:Ce["a"],VIcon:W["a"],VImg:y["a"],VRow:et["a"],VSnackbar:at["a"]}),s["a"].use(m["a"]);var we=[{path:"/",name:"Home",component:Et,meta:{requiresAuth:!0}},{path:"/about",name:"About",component:function(){return a.e("chunk-2d22d746").then(a.bind(null,"f820"))},meta:{requiresAuth:!1}},{path:"/login",name:"Login",component:zt,meta:{requiresAuth:!1}},{path:"/register",name:"Register",component:Gt,meta:{requiresAuth:!1}},{path:"/profile/:username/:id",name:"ProfilePage",component:oe,meta:{requiresAuth:!0}},{path:"/messenger",name:"Messenger",component:xe,meta:{requiresAuth:!0}}],Ie=new m["a"]({mode:"history",base:"/",routes:we});Ie.beforeEach((function(t,e,a){t.meta.requiresAuth&&!kt()?a({name:"Login",query:{redirect:t.fullPath}}):a()}));var Pe=Ie,ye=a("f309");s["a"].use(ye["a"]);var Ue=new ye["a"]({});E.a.defaults.headers={Authorization:"Bearer ".concat(bt())},s["a"].config.productionTip=!1,new s["a"]({router:Pe,store:pt,vuetify:Ue,render:function(t){return t(f)}}).$mount("#app")},6002:function(t,e,a){"use strict";a("093f")},"837f":function(t,e,a){"use strict";a("a95d")},"974d":function(t,e,a){},9877:function(t,e,a){},a95d:function(t,e,a){},aba6:function(t,e,a){"use strict";a("974d")},abb4:function(t,e,a){},c8bb:function(t,e,a){"use strict";a("f39e")},f39e:function(t,e,a){}});
//# sourceMappingURL=app.989be1f4.js.map